========================================================================
	manvcd.doc -- バーチャルＣＤソフトウェアリリース４について
	Copyright(c) 1994 SEGA
	Written by M.K on 1994-11-22
	Updated by M.K on 1995-07-14
========================================================================
--------[目次]----------------------------------------------------------
[manvcd.doc: 32]	■リリース４について
[manvcd.doc: 34]	　■[\saturn\segabin\bincd\] の中に５つのツール
[manvcd.doc: 41]	　■[\saturn\segabin\vcd\] の中にビルドテスト用
[manvcd.doc: 50]	　■[\saturn\segabin\vcd\test\] の中に実行テスト用
[manvcd.doc: 58]	■バーチャルＣＤインタフェースボードの注意点
[manvcd.doc: 69]	■ビルドテスト、実行テストの方法
[manvcd.doc: 71]	　■ＣＤイメージファイルの作成
[manvcd.doc: 81]	　■バーチャルＣＤエミュレータの起動
[manvcd.doc: 89]	　■プログラムの読み込み
[manvcd.doc:102]	■制限事項
[manvcd.doc:104]	　■[VCDEMU.EXE]
[manvcd.doc:110]	　■VCDBUILD.EXE Ver.3.10
[manvcd.doc:121]	■主な修正点
[manvcd.doc:123]	　■VCDEMU.EXE Ver.1.80->Ver.1.91
[manvcd.doc:126]	　■VCDEMU.EXE Ver.1.91->Ver.1.83
[manvcd.doc:141]	　■VCDEMU.EXE Ver.1.83->Ver.1.84
[manvcd.doc:148]	　■VCDBUILD.EXE Ver.3.10
[manvcd.doc:163]	　■VCDBUILD.EXE Ver.3.10->Ver.3.20
[manvcd.doc:186]	　■VCDBUILD.EXE Ver.3.20->Ver.3.32
[manvcd.doc:223]	　■VCDBUILD.EXE Ver.3.32->Ver.3.34
[manvcd.doc:228]	　■VCDUTL.EXE   Ver.1.00->Ver.1.20
[manvcd.doc:237]	　■VCDMKTOC.EXE Ver.1.24->Ver.1.25
[manvcd.doc:243]	　■ADDGEN.EXE   Ver.0.70->Ver.1.00
[manvcd.doc:248]	　■VCDBUILD.EXE Ver.3.34->Ver.3.37.1.1
[manvcd.doc:251]	　■VCDEMU.EXE   Ver.1.84->Ver.2.01
------------------------------------------------------------------------
■■
■■リリース４について

■[\saturn\segabin\bincd\] の中に５つのツールが入っています。
	VCDEMU.EXE	Ver.1.84
	VCDBUILD.EXE	Ver.3.34
	VCDUTL.EXE	Ver.1.20
	VCDMKTOC.EXE	Ver.1.25
	SWAP.EXE	Ver.1.00

■[\saturn\segabin\vcd\] の中にビルドテスト用のファイルが入っています。
	VCDMKDAT.EXE	Ver.1.00	サウンドデータ発生プログラム
	JVC.SCR
	JVC.PRM
	JVC.RTI
	JVC.PVD
	PAT_1.DAT
	PAT_10.DAT

■[\saturn\segabin\vcd\test\] の中に実行テスト用のファイルが入っています。
	JVC1.ABS	Ver.1.02	ﾌﾟﾛｸﾞﾗﾐﾝｸﾞﾎﾞｯｸｽ用ｻﾝﾌﾟﾙﾌﾟﾛｸﾞﾗﾑ
	JVC1.INI			サンプル実行コマンドファイル
	SYSTBL.TSK
	SDDRV.TSK
	NEWMAP.BIN

■■
■■バーチャルＣＤインタフェースボードの注意点

	　バーチャルＣＤソフトウェアリリース３.１以降を利用するためには、
	バーチャルＣＤインタフェースボードのＲＯＭバージョンが３.３以上
	である必要があります。古いＲＯＭのボードを使用されている方には、
	テクニカルサポートセンタより新しいＲＯＭを別途送付致しております。
	添付される交換手順書にしたがって必ず交換して使用してください。
	Ｖｅｒ．３.２以前のＲＯＭでは、５０を越えるマルチトラック・イン
	デックスの場合、データ転送が滞りシステムがハングすることがあります。

■■
■■ビルドテスト、実行テストの方法

■ＣＤイメージファイルの作成
	バーチャルＣＤ用マシン上にＣＤイメージファイルを作成します。
	(1) 前処理プログラムの実行
		C:\>VCDPRE JVC[RET]
		    ~~~~~~~~~~~~~~~
	(2) ＣＤイメージファイルの作成
		C:\>VCDBUILD JVC[RET]
		    ~~~~~~~~~~~~~~~~~
	　　JVC.DSK というファイルが作成されます。

■バーチャルＣＤエミュレータの起動
	バーチャルＣＤ用マシンでバーチャルＣＤエミュレータを起動します。
		C:\>CHEV US /F[RET]
		    ~~~~~~~~~~~~~~~
		C:\>VCDEMU JVC[RET]
		    ~~~~~~~~~~~~~~~
	バーチャルＣＤエミュレータが起動します。

■プログラムの読み込み
	プログラム開発用マシンとターゲットボックスを起動して、以下の内容を実行
	します。
		:[BOOT ROM による初期化(画面にロゴ表示されればＯＫ)]
		:<JVC.INI[RET]
		 ~~~~~~~~~~~~~
		:G 6002000[RET]
		 ~~~~~~~~~~~~~~
	バーチャルＣＤシステムの詳細は、「バーチャルＣＤシステムユーザーズ
	マニュアル」、および、「バーチャルＣＤシステム補足マニュアル」を
	ご参照ください。

■■
■■制限事項

■[VCDEMU.EXE]
　　　●エミュレーション可能なトラック数×インデックスの総量はデフォルト
	で約２０００、オプション設定により約５０００までに制限されます。
	したがって例えば最大９９の各トラックに約５０インデックス程度まで
	指定してエミュレートできることになります。

■VCDBUILD.EXE Ver.3.10
　　　●これまで、スクリプト記述におけるキーワードの大文字小文字の区別が
	なされていましたが、本バージョンより区別なしとなりました。
		例：これまで
			Ｄｉｓｃ	でなければなりませんでした。
			　　↓
			ＤＩＳＣ、ｄｉｓｃ、ｄｉＳｃなどでも構いません。
	なお、パラメータはこれまでどおり区別されます。
		　　ＣＤＲＯＭはＣＤＲＯＭでなければなりません。

■■
■■主な修正点

■VCDEMU.EXE Ver.1.80->Ver.1.91
　　　●一部更新モードに対応しました。

■VCDEMU.EXE Ver.1.91->Ver.1.83
　　　●これまで更新された入力DOSファイルだけをダイレクトDOSモードで再生
	していました。つまり、DOSファイル単位と考えていました。これをISO
	ファイル単位を対象に拡張しました。従って、ディスクイメージファイ
	ルを変更しないで、あるDOSファイルを更新した(更新情報ファイルを出
	力した)場合、更新した部分からダイレクトDOSファイルモードとなり、
	一つのISOファイルが終了するまでダイレクトDOSファイルモードで再生
	します。
　　　●ダイレクトDOSアクセスモードからリアルタイムモードに戻る時は、ダイ
	レクトDOSモードで送り出したセクタデータのアドレスに続くようなディ
	スクイメージの位置とします。(これまでの仕様と同様です)
　　　●従って、更新したDOSファイルが元のDOSファイルより大きくなり、結果
	として元のISOファイルの大きさを超えた場合は、そのISOファイル中の
	DOSファイルは最後まで転送することになり、超えた分だけ次のISOファ
	イルの最初の部分は消えることになります(データの転送はされません)。
■VCDEMU.EXE Ver.1.83->Ver.1.84
　　　●リアルタイムエミュレーションモードにおける早送り／巻き戻しが正し
	く行なわれるようにした。(Ver. 1.81以降のものでは、最初のうち正し
	く行なわれないことがあった)
　　　●ダイレクトDOSモードでDAを再生する際に、曲間の無音部分でノイズが
	入る問題点を解消した。

■VCDBUILD.EXE Ver.3.10
　　　●ﾌｧｲﾙ数が大量でﾃﾞｨﾚｸﾄﾘﾌｧｲﾙが複数ｾｸﾀにまたがるとき、
	ﾃﾞｨﾚｸﾄﾘﾚｺｰﾄﾞが必ずｾｸﾀの先頭になるようにしました。
　　　●同じファイル名が存在した場合に、処理を中断するようにしました。
　　　●ディレクトリ構成時の障害対策を行いました。
　　　●２〜６倍の高速化を行いました。
　　　●同じファイル名が存在した場合に、処理を中断するようにしました。
　　　●DOSエクステンダ（DOS/4G）版になり、ファイル数の制限は約10000ファ
	イルまで動作を確認しています。（メモリ8Mバイト搭載マシンにおいて）
　　　●ディレクトリレコードの位置に誤りがあったのを修正しました。
　　　●CDDAトラックのオーディオデータのTOC位置がずれる障害を対応しました。
　　　●ディレクトリのパステーブルの不良を改善しました。
　　　●トラック指定後にディレクトリ定義するとファイル位置がおかしくなる
	障害を対応しました。

■VCDBUILD.EXE Ver.3.10->Ver.3.20
　　　●チャネルインタリーブのファイルのファイルサイズが、最後に配置される
	チャネルのGAPサイズの分だけ余計に計算されていましたが、正しく計算
	するよう修正しました。
　　　●チャネルインタリーブで指定できるチャネル番号は250以下の番号に制限
	されていましたが、251〜255の番号も使用できるようになりました。
　　　●MPEGファイルに対するディレクトリレコードのシステム領域のアトリビ
	ュートビット設定が正しくなるよう修正しました。
　　　●ソースタイプにAUDIO,MPEG_VIDEOを追加しました。
　　　●セクタレートに65536までの正の整数が指定できるように修正しました。
　　　●MPEGビデオストリームのsequence_end_codeの直後に16ワードの"0"デー
	タを付加するようにバージョンアップを行いました。
　　　●同じくMpegFlushコマンドが指定された場合、MPEGビデオストリームの
	sequence_end_codeの直前に16KBの"0"データを付加するようにバージョ
	ンアップを行いました。
　　　●MPEGマルチプレックスデータの指定ファイルへの出力ができるよう修正
	しました。この結果VCDBUILDを２度実行することで、MPEGと他のデータ
	のチャネルインタリーブができるようになりました。
　　　●ディスク上の位置を時間指定（分:秒:フレーム）だけでなく、FADによ
	る指定もできるようにバージョンアップを行いました。
　　　●Includeされるスクリプトのエラー行番号表示が正しくなるように修正
	しました。

■VCDBUILD.EXE Ver.3.20->Ver.3.32
　　　●VCDPREの配布を停止し、VCDBUILDにディスクイメージを作らないための
	オプション'-p'または'/p'を追加しました。このオプションを指定する
	事によって、VCDBUILDがVCDPREと同様の処理を行います。従って、この
	オプションを指定した場合の動作はVCDPREの説明を参照してください。
　　　●これまで処理に必要な一時ファイルはカレントディレクトリに作成され
	ましたが、 本バージョンから、スクリプトで指定されているディスク
	イメージファイル(*.dskファイル)のパスに一時ファイルを作成する事
	になりました。一時ファイルは次のような場合作成されます。
	   a) チャネルインタリーブファイルを作成する時
	   b) オプション/f(-f)を指定した場合ファイルインタリーブする時
	   c) MPEGファイルを作成する時
	ディスクイメージファイルはDisc行のパラメータで指定されたファイル
	の事です。
　　　●/p を指定した場合の一時ファイルはVolume行で指定されているファイ
	ル(*.pvdファイル)のパスのディレクトリに作成される事になります。
	また、この時生成されるCDDAトラックに対応して生成される*.qsbファ
	イルも*.pvdファイルのディレクトリに作成される事になりました。
　　　●RTIファイルはVCDBUILD実行コマンド行の第1パラメータをボディ名とし
	て、RTIと言う拡張子を付ける事にしていましたが、このボディ名がパ
	ス指定でない場合、前2項(2.,3.)と同様に*.dskまたは*.pvdファイルの
	パスのディレクトリに作成する事にしました。
　　　●MPEGファイルを作成する時に生成される一時ファイルが処理終了後も削
	除されずに残っていましたが、削除するよう修正しました。
　　　●CDDAトラックで、ISOファイルとして定義されていないDOSファイルを指
	定した時、このDOSファイルが存在せず、結果としてデータの全く無い
	トラックが生成された場合、かなり多くの(4秒データをはるかに越える)
	ダミーセクターを生成するようになっていました。現象としては  File
	Not Exist と言うようなエラーメッセージを出して、ハングアップした
	ように見えたかと思います。本バージョンではこのような事のないよう
	修正しました。
　　　●その他
	1トラックには最低4秒の領域なければならないと言うCDの規格があるた
	め、4秒に満たないデータしかないトラックにはその大きさが4秒になる
	までダミーデータを自動的に生成する様になっています。この機能はバ
	ージョン3.10より採用されています。

■VCDBUILD.EXE Ver.3.32->Ver.3.34
　　　●VCDBUILDにおいて、ISOファイルの作成日付をそのソースDOSファイルの
	最新更新日付とした。ISOファイルが複数のソースDOSファイルから構成
	されている場合はそのファイルの内の最新のものが採用される。

■VCDUTL.EXE Ver.1.00->Ver.1.20
　　　●ディスクイメージを書換えるように一時更新処理を行う時、修正後元の
	ISOファイルの大きさを越えるような指定の場合はエラーとなります。
	一つのISOファイルが複数の入力データソースファイルで構成されてい
	る時、そのソースファイルの一つが大きくなった場合にも適用されます。
　　　●一部更新を繰り返した時一度修正して小さくなっても、(VCDBUILDで)全
	ディスクイメージを作成した時の(MinLength)ISOファイルサイズが有効
	となるようになりました。

■VCDMKTOC.EXE Ver.1.24->Ver.1.25
　　　●インデックスの値をBCD形式で出力するように修正しました。

■ADDGEN.EXE Ver.0.70->Ver.1.00
　　　●ファイル名が１２文字の場合、作業領域が不足する障害の対策。
　　　●新規ディスクを使用した場合の処理の修正。
　　　●終了時のメッセージ出力処理の追加。

■VCDBUILD.EXE Ver.3.34->Ver.3.37.1.1
　　　●パステーブル部分に関する不具合の修正。

■VCDEMU.EXE Ver.3.34->Ver.3.37.1.1
　　　●ＤＯＳダイレクトモード時の処理速度を向上しました。



======= End of file ====================================================


