*******************************************************************************
���h�L�������g���      �F�e���C�u�����J�������t�@�C��
���t�@�C���L������      �Fmanbpl.doc
���Ώۃ��C�u�����L�����́FBPL
���Ώۃ��C�u��������    �F����Đ�
���o�[�W����            �F1.00
���쐬��                �FT.K.
���쐬��                �F1995-03-31
�����̑��̃��b�Z�[�W    �F�Ȃ�
*******************************************************************************

�P�D�@���ӎ���
�i�P�j�@�g�p���郉�C�u�����̃o�[�W����
�@�X�g���[���V�X�e���A�t�@�C���V�X�e���̊e���C�u�����́AVer.1.21�ȍ~���g�p���Ă��������B

�i�Q�j�@SCU-DMA�̎g�p�֎~�iSCU-DMA�]������A-Bus�A�N�Z�X�֎~�j
�@����Đ����C�u�����́ASCU-DMA�]���ɑΉ����Ă��܂���B����Đ����C�u�������g�p����ꍇ�ASCU�ɂ��DMA�]�����֎~���܂��B�X�g���[���V�X�e���̓]�����[�h��]���֐��́ASCU-DMA�ȊO���g�p���Ă��������B

�Q�D�@�}�j���A��
�@����Đ����C�u�����̃}�j���A�����ȉ��ɓY�t���܂��B
�@���e���e�L�X�g�t�@�C���ŏo�͂������̂Ȃ̂ŁA���Ȃǂɕs��������܂��B����A������ꂽ�}�j���A�����z�z����܂�����A��������������������B

********************** ����Đ����C�u�����}�j���A�����e ***********************

�P�D�@�T�v
�@����Đ����C�u�����́A���炩���ߒ�߂�ꂽ�V�i���I�Ɋ�Â��ăX�g���[����r�؂�邱�ƂȂ��ǂݍ��ނ��߂̃��C�u�����ł���B����ɂ��A�X�g���[�����X���[�Y�ɕ��򂳂��Ȃ���ǂݍ��ނ��Ƃ��ł���B
�@�������A����Đ����C�u�����͕���ɕK�v�ȃX�g���[���̊Ǘ������������Ȃ��B�X�g���[�����瓮��Ȃǂ��Đ�����ɂ́A�f�R�[�_��p�̃��C�u�����iMPEG, Cinepak�Ȃǁj���g�p����B


�P�D�P�@���C�u�����\��
�@�b�c�֌W�̃��C�u�����\����}�P�D�P�Ɏ����B

        ��������������������������������������������������������������������������  
        ��                         �A�v���P�[�V����                             ��  
        ��������������������������������������������������������������������������  
        ��������������������������������������������������������������������������  
        ��          ����Cinepak     ��������Đ�ײ���؄���  ����                ��  
        ��MPEG      ����ײ���� (CPK)�����@�@�@�@(BPL) ����  ����                ��  
        �����C�u������������������������������������������  �����t�@�C���V�X�e����  
        ��    (MPG) ��������������������������������������  ����           (GFS)��  
        ��          ����     �@�X�g���[���V�X�e��(STM)      ����                ��  
        ����������������������������������������������������������������        ��  
        ������������������������������������������������������������  ��        ��  
��ĳ��  ��           �@�@�@�b�c�ʐM�C���^�t�F�[�X(CDC)            ��  ��        ��  
        ������������������������������������������������������������  ������������  
������������������������������������������������������������������������������������
                            ��������������������                  ������������������
ʰ�޳��                     ��  �b�c�u���b�N  ��                  ��SIMM, SCSI̧�ل�
                            ��������������������                  ������������������
                                                                                    
                         �}�P�D�P�@�b�c�֌W�̃��C�u�����\��

�@����Đ����C�u�������g�p���邽�߂ɂ́A�X�g���[���V�X�e���A�t�@�C���V�X�e���y�сA�b�c�ʐM�C���^�t�F�[�X�̊e���C�u�������K�v�ł���B


�P�D�Q�@����Đ����C�u�����̋@�\�T�v

�i�P�j�@�������i�V�i���I�j�̐ݒ�@�\
�@�e�X�g���[���ɑ΂��镪���̌����A�������i�V�i���I�j�Ƃ��Đݒ肷��B

�i�Q�j�@����ɕK�v�ȃX�g���[���̐�ǂ݋@�\
�@�X�g���[�����X���[�Y�ɕ��򂳂��邽�߁A�X�g���[���̃I�[�v���^�N���[�Y���Ǘ�����B�I�[�v�������X�g���[���i�����̌��j���b�c�o�b�t�@�ɐ�ǂ݂��邱�ƂŁA����悪���肵�����ɓr�؂�邱�ƂȂ����o�����Ƃ��ł���B

�i�R�j�@�����̑I���@�\
�@�������̒�����A���ۂ̕�����I������B

�i�S�j�@�����X�g���[���̒ʒm�@�\
�@�I�����ꂽ�����ɂ��������āA���ɍĐ����ׂ��X�g���[�����A�v���P�[�V�����ɒʒm����B


                                �������A�������̐ݒ�  ����������������������    
                  ������������������������������������������                  ��    
                  ��                                      �� �A�v���P�[�V���� ��    
      ��������������������������  �@�@�����̑I��        ��                  ��    
      ��  ����Đ����C�u����  �� ������������������������ ��                  ��    
      ��                      �� ������������������������ ��                  ��    
      ���������������������������@�@�X�g���[���n���h��    ����������������������    
          ��STM_Open, STM_Close                             ��Create, EntryNext
      ��������������������������                    ��������������������������������
      ��  �X�g���[���V�X�e��  ��                    ���f�R�[�_(Cinepak, MPEG�Ȃ�) ��
      ��������������������������                    ��������������������������������

                         �}�P�D�Q�@�X�g���[���V�X�e���T�v�}


�Q�D�@��{����
�Q�D�P�@�p��E����̒�`

                                 �\�Q�D�P�@�p��ꗗ
  ��������������������������������������������������������������������������������  
  ��     �@�p�@��       ��                   �@�@�Ӂ@�@��                       ��  
�@��������������������������������������������������������������������������������  
  ������X�g���[��      ���b�c��̃t�@�C���ɑ�������B����Đ����C�u�����́A����  
  ��                    ���X�g���[���ɑ΂��Đݒ肳�ꂽ�V�i���I���Ɋ�Â��āA�X��  
  ��                    ���g���[���̓ǂݍ��݂������Ȃ��B                        ��  
  ��                    ������X�g���[�����Ń`���l���C���^���[�u�i��ʂɂ̓T�u�w��  
  ��                    ���b�_�ɂ��C���^���[�u�j�����邱�Ƃɂ��A�قȂ��ނ̄�  
  ��                    ���X�g���[���f�[�^�i�I�[�f�B�I, �r�f�I�Ȃǁj�����o������  
  ��                    ���Ƃ��ł���B                                          ��  
  ��������������������������������������������������������������������������������  
  ������X�g���[�����ʎq������X�g���[������ʁE���肷�邽�߂̎��ʎq�B          ��  
  ��                    �����̎��ʎq�ɑ΂��āA�ǂݍ��ރt�@�C����X�g���[���L�[�A��  
  ��                    �������̏���ݒ�E�擾����B                        ��  
  ��������������������������������������������������������������������������������  
  ������ԍ�            ���������w�肷�邽�߂̔ԍ��B                          ��  
  ��                    ���p�b�h�Ȃǂ�����͂����C�x���g�̎�ނɑ�������B    ��  
  ��������������������������������������������������������������������������������  

                                  �\�Q�D�Q�@����ꗗ
    ������������������������������������������������������������������������������  
    ��  �@���@��    ��    �@�@�Ӂ@��        �� �@�@�@�@�@�@���@�@��             ��  
    ������������������������������������������������������������������������������  
    ��  BPL         ��  branch play         ������Đ�                          ��  
    ��  bstm        ��  branch stream       ������X�g���[��                    ��  
    ��  bstmid      ��  branch stream ID    ������X�g���[�����ʎq              ��  
    ��  brno        ��  branch No.          ������ԍ�                          ��  
    ��  bstmmax     ��  branch stream max   ���o�^���镪��X�g���[���̑���      ��  
    ��  brmax       ��  branch max          ������̑���                        ��  
    ������������������������������������������������������������������������������  
�@�@���̑��̗p��ɂ��ẮA�b�c�ʐM�C���^�t�F�[�X�A�t�@�C���V�X�e���y�сA�X�g���[���@�@�V�X�e���ɏ�����B 

�Q�D�Q�@���O�̐���
�@����Đ����C�u�����ł́A�֐����A�ϐ����A�^���A�}�N�����Ƃ��Ď��̂悤�Ȗ��O���g�p���Ă���B

�@�@�֐����A�ϐ����FBP�`�@����с@bp�`
�@�@�^���@�@�@�@�@�FBp�`
�@�@�}�N�����@�@�@�FBP�`

  ����Đ����C�u�����ɕK�v�Ȋe���C�u�����́A�ȉ��̃O���[�o���V���{�����g�p���Ă���B

                       �\�Q�D�R�@�e���C�u�����̃V���{����
            ��������������������������������������������������������                
            ��  �@���C�u������      ��    �@�g�p����V���{��      ��                
            ��������������������������������������������������������                
            ���X�g���[���V�X�e��    ��      ST�`, st�`, St�`      ��                
            ��������������������������������������������������������                
            ���t�@�C���V�X�e��      ��      GF�`, gf�`, Gf�`      ��                
            ��������������������������������������������������������                
            ���b�c�ʐM�C���^�t�F�[�X��      CD�`, cd�`, Cd�`      ��                
            ��������������������������������������������������������                
�@�A�v���P�[�V�����v���O�����͂����̃V���{�����g�p���Ă͂Ȃ�Ȃ��B

�R�D�@����Đ����C�u�����̎d�g��
�R�D�P�@�����̗���
�@����Đ����C�u�����́A�V�i���I�ɏ]���ăX�g���[����ǂݍ��݁A�f�R�[�h���ׂ��X�g���[���n���h�����A�v���P�[�V�����ɒʒm����B
�@��ȏ����̗����}�R�D�P�Ɏ����B

      ��������������������������                                      ����������    
�@�@�@��  ������(BPL_Init)    �� ����������������Ɨ̈�̎w��         ��      ��    
      ��������������������������                                      ��      ��    
                  ��                                                  ��  �A  ��    
      ��������������������������                                      ��  �v  ��    
�@�@�@�� �@�V�i���I�̐ݒ�     �� ������������������X�g���[������   ��  ��  ��    
      ��  BPL_SetStmInfo      ��               �������̐ݒ�       ��  �P  ��    
      ��  BPL_SetBranchInfo   ��                                      ��  �b  ��    
      ��������������������������                                      ��  �V  ��    
    �������������@��                       ���������̑I��           ��  ��  ��    
    ����������������������������         ����  (BPL_SelectBranch)     ��  ��  ��    
    ���� ����Đ��T�[�o�̎��s �� ����������                           ��      ��    
    ����   (BPL_ExecServer)   �� �������������������X�g���[���̎擾 ��      ��    
    ����������������������������                BPL_GetCurStm         ����������    
    ����������������                            BPL_GetNextStm

                 �@�@�@�@�}�R�D�P�@�����̗���


�R�D�Q�@�V�i���I
�@�V�i���I�Ƃ́A���Ԃ̌o�߂ɏ]���Ăǂ̂悤�ɕ���Đ������邩�i�ǂ̂悤�ȏ����ŃX�g���[�����Đ����Ă������j��\�����ł���B
�@����X�g���[���̓t�@�C���P�ʂŎw�肷��B�I�[�f�B�I��r�f�I�Ȃǂ̃f�[�^�́A�t�@�C�����Ń`���l���C���^���[�u���邱�Ƃɂ����o�����Ƃ��ł���B

       ����ԍ�                 bstm6           bstm16
           0    bstm2           bstm7
                                bstm8
            1                   bstm9           bstm17              �@bstm19
  bstm1         bstm3           bstm10
            2                   bstm11
                                bstm12          bstm18
                bstm4           bstm13
           3                    bstm14

                bstm5           bstm15


                           �}�R�D�Q�@�X�g���[���̕���

(a) ���̃V�i���I�ł́A�ŏ��ɓǂݍ��ޕ���X�g���[����bstm1�ł���B����Đ����C�u�����́@�@bstm1�̓ǂݍ��݂��J�n����B

(b) �A�v���P�[�V�����͌��ݓǂݍ��ݒ��̕���X�g���[�����擾���A�f�R�[�_�ɐݒ肷��B

(c) ����Đ����C�u�����́Abstm1�̓ǂݍ��݂ɑ����āA������i���Ɏ��o��������\���@�@�̂��镪��X�g���[���j�ł���bstm2, bstm3, bstm4, bstm5�̓ǂݍ��݂��J�n����B
�@�@���̂悤�ɕ�����̃X�g���[�����ǂ݂��邱�ƂŁA�b�c�o�b�t�@��L���Ɏg�p�ł��A�@�@�X���[�Y�ȕ��򂪉\�ƂȂ�B

(d) �A�v���P�[�V�����̓p�b�h���͂Ȃǂ���C�x���g���擾���A�����̑I��������B
�@�@����bstm2, bstm3, bstm4, bstm5�ւ̎}�ɂO�`�R�̕���ԍ������蓖�Ă��Ă��āA�P���@�@�w�肳�ꂽ�Ƃ���ƁA�s�v�ƂȂ���bstm2, bstm4, bstm5�̓ǂݍ��݂͒��~�����B
�@�@�K�v�Ȃ�΃A�v���P�[�V�����͕����̃X�g���[�����擾���A�f�R�[�_�ɐݒ肷��B

(e) bstm1�̎��o�����I����bstm3�̎��o�����J�n����B
�@�@�A�v���P�[�V����������Đ��T�[�o�ɑ΂��ĕ���̎��s���w�肷��ƁA����Đ����C�u���@�@����(c)�Ɠ��l��bstm9, bstm10, bstm11�̓ǂݍ��݂��J�n����B


�R�D�R�@����Đ��̏�ԑJ��
�@����Đ���Ԃ�\�R�D�P�ɁA����Đ��̏�ԑJ�ڐ}��}�R�D�R�Ɏ����B

                               �\�R�D�P�@����Đ����
������������������������������������������������������������������������������������
��   ��@�@��   ��                    �@�@�@�@���@�@��                            ��
������������������������������������������������������������������������������������
������Đ��I��  ������Đ����I�������B                                            ��
��              ������Đ����C�u�������I�[�v�������X�g���[���O���[�v�ƃX�g���[���i��
��              �����݂̃X�g���[���ƕ�����j�͑S�ăN���[�Y�����B              ��
������������������������������������������������������������������������������������
�������I��҂�����������ǂ݂��Ă��邪�A����悪�I������Ă��Ȃ��B          ��
��              ��������̑S�X�g���[������ǂ݂̑Ώۂł���B                    ��
��              �����݂̃X�g���[�������擾�ł��A�����̃X�g���[���͎擾�ł��Ȃ��B��
������������������������������������������������������������������������������������
������挈��    ��������̒����番��悪�I�����ꂽ�B                            ��
��              ���I����������悾������ǂ݂����B                              ��
��              �����݂̃X�g���[���A�����̃X�g���[���Ƃ��擾�ł���B            ��
������������������������������������������������������������������������������������
�������Ȃ��@�@�����݂̃X�g���[���ɑ΂��镪����╪��悪���݂��Ȃ��B          ��
��              ���Ō�̃X�g���[�����Đ����Ă����Ԃł���B                      ��
������������������������������������������������������������������������������������
�@����Đ���Ԃ̓T�[�o�֐��Ŏ擾�ł���B

              ��������������������       �@                                         
              ������Đ��̏�������                                                  
              ��������������������                          ����������������������  
                        ��      ����������������������������������Đ��̃��Z�b�g��  
           BPL_Init�֐� ��      ��       BPL_Reset�֐�      ����������������������  
                        ��      ���@�@                      ����������������������  
                        ��      ��    �������������������������@����Đ��̒��~  ��  
      ON/OFF������������������������  �� BPL_SetStart�֐��� ����������������������  
      ���������@�@����Đ��I��    ������ BPL_BR_NONE���w��                          
      ��������(BPL_SVR_COMPLETED) ��  �@�@�@                  �S��Ԃ�����s�\    
            ��������������������������������������                                  
                    ��  �@��                    ����                                
   BPL_SetStart�֐� ��  �@���@                    ����                              
                    ��  �@�� ON                     ����ON                          
                    ��    ���@                        ��                            
         OFF������������������������              ������������������������OFF       
      ��������   �����I��҂�   ��������������  ��     �����Ȃ�     ��������    
      �������� (BPL_SVR_WAITSEL)  �������₪�Ȃ���  (BPL_SVR_NOBRN)   ��������    
            ������������������������              ������������������������          
                    ��    ��                          ��                            
  BPL_SelBranch�֐� ��    ��                        ����                            
                    ��    �� ON                   ����                              
                    ��    ��                    ����                                
         OFF������������������������          ����                                  
      ��������     ����挈��     ��������������                                    
      ��������  (BPL_SVR_SELECT)  ���I����������悪BPL_BR_NONE������               
            �������������������������iBPL_SetBranchInfo�֐����Q�Ɓj                 

�@��ON/OFF�F����Đ��T�[�o�֐��iBPL_ExecServer�j�̕�����s�X�C�b�`
�@�@�����I��҂���ԁ^�����Ȃ���Ԃ�ON���w�肷��ƁA����Đ����I������B
�@�@����挈���Ԃ�ON���w�肷��ƁA����X�g���[�����؂�ւ��B

                           �}�R�D�R�@����Đ��̏�ԑJ�ڐ}

�R�D�S�@����̎��s�i����X�g���[���̐؂�ւ������j

�i�P�j�@����̎��s
�@����挈���Ԃŕ�������s����i����Đ��T�[�o�̕�����s�X�C�b�`��ON�ɂ���j�ƁA�ȉ��̂悤�ȕ���X�g���[���̐؂�ւ��������s����B
�@(a) ���݂̃X�g���[���`���N���[�Y����B
�@�@�i�`�̓ǂݍ��݂𒆎~���A�b�c�o�b�t�@�Ƀf�[�^���c���Ă��Ă���������B�j
�@(b) �����̃X�g���[���a���A�V���Ɍ��݂̃X�g���[���ɂȂ�B
�@(c) �����̃X�g���[��������ɂȂ�B

                 �\�R�D�Q�@����̎��s�ɂ�镪��X�g���[���̐؂�ւ�
������������������������������������������������������������������������������������
��       ����X�g���[��       ��������s�O��     ������s��i�؂�ւ�������j     ��
������������������������������������������������������������������������������������
�����݂̃X�g���[���@�@�@�@�@�@���`      �@���a                                    ��
���iBPL_GetCurStm�֐��Ŏ擾�j ��          ���i�`�̓N���[�Y�����j                ��
������������������������������������������������������������������������������������
�������̃X�g���[���@�@�@�@�@���a    �@  �����̕�����I������܂Ŗ���          ��
���iBPL_GetNextStm�֐��Ŏ擾�j��          ���iBPL_SelectBranch�֐��őI���E����j  ��
������������������������������������������������������������������������������������

�@�����̑I���̕�������̎��s�i�؂�ւ��j�����K����s���邱�ƂɂȂ邪�A�I���Ɛ؂�ւ��̑���͊�{�I�ɔ񓯊��ł���B

�i�Q�j�@�X�g���[���̃I�[�v���ƃN���[�Y
�@����Đ����C�u�����ɂ���ăI�[�v�������X�g���[���́A���݂̃X�g���[���ƕ�����̃X�g���[���ł���B�I�[�v���^�N���[�Y�̎菇���ȉ��Ɏ����B
�@(a) BPL_SetStart�֐��ɂ���Ďw�肳�ꂽ�Đ��J�n�X�g���[�����A���݂̃X�g���[���Ƃ��ā@�@�@�ŏ��ɃI�[�v�������B
�@(b) ���݂̃X�g���[���̓ǂݍ��݂��n�܂�ƁA������̃X�g���[�����I�[�v�������B
�@(c) ������I������ƁA����ȊO�̕�����̓N���[�Y����A����悾������ǂ݂����B
�@(d) ��������s����ƁA���݂̃X�g���[���̓N���[�Y�����B
�@�@�@�����̃X�g���[���͌��݂̃X�g���[���ɐ؂�ւ��A(b)�`(d)���J��Ԃ��B
�@(e) ����Đ����I������ƁA�X�g���[���O���[�v���N���[�Y�����B

�i�R�j�@����X�g���[���̐؂�ւ��^�C�~���O
�@����X�g���[���̐؂�ւ��^�C�~���O�͕\�R�D�R�̂悤�ɕ��ނ����B

                    �\�R�D�R�@����X�g���[���̐؂�ւ��^�C�~���O
������������������������������������������������������������������������������������
�� �^�C�~���O ��                             ���@�@��                             ��
������������������������������������������������������������������������������������
�����R�؂�ւ�����ذ�A�̃f�R�[�h���I��������A�����̽�ذ�B�ɐ؂�ւ���B        ��
������������������������������������������������������������������������������������
�������؂�ւ�����ذ�A�̃f�R�[�h�r���ł��A�����I�ɕ����̽�ذ�B�ɐ؂�ւ���B    ��
������������������������������������������������������������������������������������

�@����悪���܂��Ă��A�f�R�[�_�����݂̃X�g���[���̏������I����܂ŁA����̎��s�����Ă͂����Ȃ��B�i�f�R�[�h���̃X�g���[���f�[�^���r�؂�Ă��܂��̂�h�����߁B�j
�@���R�^�����ǂ���̐؂�ւ��ł��A�f�R�[�_�ɑ΂���؂�ւ��������Ɏ��s���A���ꂪ�������Ă��番����s�X�C�b�`��ON�ɂ��邱�ƁB

�S�D�@�f�B�X�N��̃t�@�C���z�u
�@��ǂ݂ł���X�g���[���̍��v�́A�b�c�o�b�t�@�e�ʁi�ő�200�Z�N�^�j�܂łł���B�]���āA���̗e�ʂ��z���Ă��܂��Đ�ǂ݂ł��Ȃ������X�g���[���ɂ��ẮA�x��Ȃ����򂷂邱�Ƃ��ł��Ȃ��Ȃ�B

�i�P�j�@������̔�C���^���[�u
�@�`�̕����₪�a�C�b�ŁA�f�B�X�N��̃t�@�C���z�u���}�S�D�P�̂悤�ɂȂ��Ă���ƁA��ǂ݂ł���t�@�C���͂a�����ɂȂ�B
�@�`�̐�ǂݕ������ła�C�b�ɃV�[�N�E���򂵂Ă��Ԃɍ����Ȃ�Ζ��͂Ȃ��B�������A����̑I���^�C�~���O�����x�点�邽�߂ɁA�a�C�b�����Ƃ���ǂ݂���K�v������Ȃ�΁A���̗Ⴞ�Ƃb�ɒx��Ȃ�����ł��Ȃ��Ȃ�B

�@�@�X�g���[���̕���@�@�@�@�@�@�@�@�@�@�f�B�X�N��̃t�@�C���z�u
    �`�����������a          ����������������������������������������������������    
          ��                ��     �`     ��       �a       ��       �b       ��    
          �������b          ����������������������������������������������������    
                                           ������������������
                                             200�Z�N�^�ȏ�

              �}�S�D�P�@������̔�C���^���[�u�i�b�̐�ǂ݂��s�\�j

�i�Q�j�@������̑S�̓I�ȃC���^���[�u
�@�`�̍Đ���A�x��Ȃ��a�C�b�ɕ��򂳂���ɂ́A�}�S�D�Q�̂悤�ɂ`�̎��ɂa�Ƃb���C���^���[�u���Ĕz�u������@������B

�@�@�X�g���[���̕���@�@�@�@�@�@�@�@�@�@�f�B�X�N��̃t�@�C���z�u
    �`�������a (b1+b2+b3�c) ����������������������������������������������������    
        ��                  ��     �`     ��b1��c1��b2��c2��b3��c3��   �c�c   ��    
        �����b (c1+c2+c3�c) ����������������������������������������������������    
                                           ������������������������������������
�@�@                                   �@          �a�Ƃb�̃C���^���[�u

�@�@�@���ӁF������̃t�@�C���͂a�C�b�̂Q�ł���B

              �}�S�D�Q�@������̑S�̓I�ȃC���^���[�u�i�a�C�b�̑S���j

�i�R�j�@������̕����I�ȃC���^���[�u
�@�}�S�D�R�̂悤�ɁA�a��B1, B2�ɁA�b��C1, C2�ɕ������AB1��C1�������C���^���[�u���Ĕz�u������@������B
�@���̏ꍇ�A�a�C�b�̈ꕔ�iB1, C1�j�������C���^���[�u����Ηǂ��AB2, C2�ւ̃V�[�N���\�œƗ����������B�������A�t�@�C���̕������K�v�ɂȂ�B

�@�@�X�g���[���̕���@�@�@�@�@�@�@�@�@�@�f�B�X�N��̃t�@�C���z�u
    �`����������B1����B2    ����������������������������������������������������    
          ��                ��     �`     ��B1, C1��     B2     ��     C2     ��    
          ������C1����C2    ����������������������������������������������������    
                                           ��������
�@�@                                   �@B1��C1�̃C���^���[�u

�@�@�@���ӁF������̃t�@�C����B1, B2, C1, C2�̂S�ł���B

              �}�S�D�R�@������̕����I�ȃC���^���[�u�i�a�C�b�̈ꕔ�j

�T�D�@��{�I�ȃv���O����

�T�D�P�@�V�i���I����
�@����Đ��̃V�i���I���}�T�D�P�Ɏ����B

                     ����ԍ�
          �@�@A����    0            BSTM2.MPG
�@�@BSTM1.MPG
            �@B����    1            BSTM3.MPG

�@BSTM1.MPG�̍Đ����ɂ`�{�^����������遨BSTM1.MPG�̍Đ���ABSTM2.MPG���Đ�����B
�@BSTM1.MPG�̍Đ����ɂa�{�^����������遨BSTM1.MPG�̍Đ���ABSTM3.MPG���Đ�����B

                           �}�T�D�P�@����Đ��̃V�i���I��

�@���̃V�i���I��ݒ肷��v���O��������ȉ��Ɏ����B

#define BSTM_MAX    3   /* �����ذт̑���(BSTM1.MPG, BSTM2.MPG, BSTM3.MPG)  */
#define BRANCH_MAX  2   /* ����̑����i�}�T�D�P�̖��̐��j */
#define KEY_MAX     2   /* �X�g���[���L�[�̎�ނ̑��� */
#define A_BTN       0   /* �`�{�^���̕���ԍ� */
#define B_BTN       1   /* �a�{�^���̕���ԍ� */
#define BR_NUM      2   /* �X�g���[��������̕��� */
#define BSTM1_ID    0   /* BSTM1.MPG�̕���X�g���[�����ʎq */
#define BSTM2_ID    1   /* BSTM2.MPG�̕���X�g���[�����ʎq */
#define BSTM3_ID    2   /* BSTM3.MPG�̕���X�g���[�����ʎq */

/* ����Đ����C�u�����̍�Ɨ̈� */
Sint32 work_bpl[BPL_WORK_SIZE(BSTM_MAX, BRANCH_MAX, KEY_MAX)/sizeof(Sint32)];

void    setScenario(void)
{
    StmKey  key[KEY_MAX];   /* �X�g���[���L�[��ݒ肷�邽�߂̗̈� */
    Sint32  brtbl[BR_NUM];  /* ������ݒ肷�邽�߂̗̈� */
    Sint32  fid;            /* �t�@�C�����ʎq */

    /* ����Đ��̏����� */
    BPL_Init(BSTM_MAX, BRANCH_MAX, KEY_MAX, work_bpl);

    /* ����X�g���[�����̐ݒ� */
    STM_KEY_CN(key + 0) = STM_KEY_CIMSK(key + 0) = STM_KEY_NONE;
    STM_KEY_CN(key + 1) = STM_KEY_CIMSK(key + 1) = STM_KEY_NONE;
    STM_KEY_SMMSK(key + 0) = STM_KEY_SMVAL(key + 0) = STM_SM_VIDEO;
    STM_KEY_SMMSK(key + 1) = STM_KEY_SMVAL(key + 1) = STM_SM_AUDIO;
    fid = GFS_NameToId("BSTM1.MPG");
    BPL_SetStmInfo(BSTM1_ID, fid, KEY_MAX, key);
    fid = GFS_NameToId("BSTM2.MPG");
    BPL_SetStmInfo(BSTM2_ID, fid, KEY_MAX, key);
    fid = GFS_NameToId("BSTM3.MPG");
    BPL_SetStmInfo(BSTM3_ID, fid, KEY_MAX, key);

    /* �������̐ݒ� */
    brtbl[A_BTN] = BSTM2_ID;    /* �`�{�^���������ꂽ��BSTM2.MPG�ɕ��򂷂� */
    brtbl[B_BTN] = BSTM3_ID;    /* �a�{�^���������ꂽ��BSTM3.MPG�ɕ��򂷂� */
    BPL_SetBranchInfo(BSTM1_ID, BR_NUM, brtbl); /* BSTM1.MPG�̕����̐ݒ� */
}

�T�D�Q�@����Đ�����
�@����Đ��̃v���O��������ȉ��Ɏ����B�i�V�i���I�͂T�D�P���Q�Ƃ̂��Ɓj

Sint32   work_gfs[GFS_WORK_SIZE(BSTM_MAX*KEY_MAX)/sizeof(Sint32)];
Sint32   work_stm[STM_WORK_SIZE(GRP_MAX, BSTM_MAX*KEY_MAX)/sizeof(Sint32)];
Sint32   brno;                      /* ����ԍ� */
StmHn    stmtbl[KEY_MAX];           /* �X�g���[���n���h���̃e�[�u�� */
Sint32   bpl_stat;                  /* ����Đ���� */
Sint32   decode_stat;               /* �f�R�[�_�̓����� */
DecodeHn dc_hn = NULL;              /* �f�R�[�_�̃n���h�� */
Bool     chgsw = OFF;               /* ������s�X�C�b�` */
Bool     endflag = FALSE;
Sint32   ret;

/* �e���C�u�����̏����� */
GFS_Init(���);                      /* �t�@�C���V�X�e���̏����� */
STM_Init(���);                      /* �X�g���[���V�X�e���̏����� */
initDecoder();                      /* �f�R�[�_�̏����� */
setScenario();                      /* �V�i���I�̐ݒ�i�T�D�P���Q�Ɓj */

/* ����Đ� */
BPL_SetStart(BSTM1_ID);             /* �Đ��J�n�X�g���[���̎w�� */
BPL_GetCurStm(KEY_MAX, stmtbl);     /* �ŏ��̕���X�g���[���̎擾 */
dc_hn = createDecodeHn(stmtbl);     /* �f�R�[�_�̃n���h���̍쐬 */
while (endflag == FALSE) {
    bpl_stat = BPL_ExecServer(chgsw);       /* ����Đ��T�[�o�̎��s */
    chgsw = OFF;
    STM_ExecServer();                       /* �X�g���[���T�[�o�̎��s */
    decode_stat = execDecoder(dc_hn);       /* �f�R�[�_�̃T�[�o�֐��̎��s */

    switch (bpl_stat) {
    case BPL_SVR_COMPLETED:                 /* ����Đ��I����� */
        endflag = TRUE;
        break;
    case BPL_SVR_WAITSEL:                   /* �����I��҂���� */
        /* �p�b�h���͂̎擾 (0�FA�{�^��, 1�FB�{�^��, ���̏ꍇ�F���͂��Ȃ� */
        brno = getPadEvent();
        if (brno >= 0) {
            BPL_SelectBranch(brno);         /* �����̑I�� */
        }
        break;
    case BPL_SVR_SELECT:                    /* ����挈���� */
    case BPL_SVR_NOBRN:                     /* �����Ȃ���� */
        if (decode_stat != COMPLETED) {     /* �f�R�[�h�����̃`�F�b�N */
            break;
        }
        chgsw = ON;                            /* ������s�X�C�b�`ON */
        ret = BPL_GetNextStm(KEY_MAX, stmtbl); /* �����̃X�g���[���̎擾 */
        if (ret >= 0) {                        /* ����悪����ꍇ */
            destoroyDecodeHn(dc_hn);           /* �f�R�[�_�̃n���h���̏��� */
            dc_hn = createDecodeHn(stmtbl);    /* �f�R�[�_�̃n���h���̍쐬 */
        }
        break;
    }
}
destoroyDecodeHn(dc_hn);            /* �f�R�[�_�̃n���h���̏��� */

�@�X�g���[���̃I�[�v���^�N���[�Y�́A����Đ����C�u�������X�g���[���V�X�e�����g�p���Ď����I�ɂ����Ȃ��B�f�R�[�_�ɂ��ẮA�e���C�u�����̃}�j���A�����Q�Ƃ��邱�ƁB

�U�D�@�f�[�^�d�l
�U�D�P�@��{�I�ȃf�[�^
������������������������������������������������������������������������������������
��Title           ��Data                            ��Data Name           ��No    ��
���f�[�^�d�l      ����{�I�ȃf�[�^                  ��                    ��1.0   ��
������������������������������������������������������������������������������������
�i�P�j�@��{�f�[�^�^
        ��������������������������������������������������������������������        
        ��    �^��    ��                     ���@�@��                     ��        
        ��������������������������������������������������������������������        
        ��Uint8       �������Ȃ��P�o�C�g����                              ��        
        ��������������������������������������������������������������������        
        ��Sint8       ����������P�o�C�g����                              ��        
        ��������������������������������������������������������������������        
        ��Uint16      �������Ȃ��Q�o�C�g����                              ��        
        ��������������������������������������������������������������������        
        ��Sint16      ����������Q�o�C�g����                              ��        
        ��������������������������������������������������������������������        
        ��Uint32      �������Ȃ��S�o�C�g����                              ��        
        ��������������������������������������������������������������������        
        ��Sint32      ����������S�o�C�g����                              ��        
        ��������������������������������������������������������������������        
        ��Bool        ���_���^�S�o�C�g�����i�_���萔��l�Ɏ��j          ��        
        ��������������������������������������������������������������������        

�i�Q�j�@�_���萔
�@�_���^�iBool�j�̒l�Ƃ��Ďg�p����B
        ��������������������������������������������������������������������        
        ��   �萔��   ��  �l  ��                 ���@�@��                 ��        
        ��������������������������������������������������������������������        
        ��FALSE       ��  0   ���_���l�̋U��\���B                        ��        
        ��TRUE        ��  1   ���_���l�̐^��\���B                        ��        
        ��������������������������������������������������������������������        
        ��OFF         ��  0   ���X�C�b�`�I�t�i�U�j��\���B                ��        
        ��ON          ��  1   ���X�C�b�`�I���i�^�j��\���B                ��        
        ��������������������������������������������������������������������        


�U�D�Q�@�萔
������������������������������������������������������������������������������������
��Title           ��Data                            ��Data Name           ��No    ��
���f�[�^�d�l      ���萔                            ��                    ��2.0   ��
������������������������������������������������������������������������������������
�i�P�j�@�G���[�R�[�h
�@BPL_ERR_OK�̒l�͂O�ł���B���̑��̃G���[�R�[�h�͕��̒l�ł���B
      ������������������������������������������������������������������������������
      ��     �萔��     ��                        ���@�@��                        ��
      ������������������������������������������������������������������������������
      ��BPL_ERR_OK    �@������I��                                                ��
      ������������������������������������������������������������������������������
      ��BPL_ERR_KYOVRFLW���X�g���[���L�[�̐ݒ肪��������                          ��
      ������������������������������������������������������������������������������
      ��BPL_ERR_BROVRFLW�������̐ݒ肪��������                                  ��
      ������������������������������������������������������������������������������
      ��BPL_ERR_BSTMID  ���s���ȕ���X�g���[�����ʎq                              ��
      ������������������������������������������������������������������������������
      ��BPL_ERR_BRNO    ���s���ȕ���ԍ�                                          ��
      ������������������������������������������������������������������������������
      ��BPL_ERR_BRSPC   �����ɕ���悪�w�肳��Ă���                              ��
      ������������������������������������������������������������������������������
      ��BPL_ERR_NOKEY   ���Y������X�g���[���L�[���ݒ肳��Ă��Ȃ�                ��
      ������������������������������������������������������������������������������
      ��BPL_ERR_OPNSTM  ���X�g���[�����I�[�v���ł��Ȃ�                            ��
      ������������������������������������������������������������������������������

�i�Q�j���̑�
      ������������������������������������������������������������������������������
      ��     �萔��     �� �l ��                     ���@�@��                     ��
      ������������������������������������������������������������������������������
      ��BPL_STMKEY_MAX  ���@6 ���P�̕���X�g���[���ɐݒ�\�ȃX�g���[���L�[��  ��
      ������������������������������������������������������������������������������

�V�D�@�֐��d�l
�@����Đ����C�u�����̊֐��ꗗ��\�V�D�P�Ɏ����B

                              �\�V�D�P�@�֐��ꗗ�i�P�j
        ��������������������������������������������������������������������        
        ��   �@�@�@�@�@�@�@�@�\             ��     �@�֐���       �� �ԍ� ��        
        ��������������������������������������������������������������������        
�@�@�@�@���V�i���I����                                            ��1.0   ��        
        ��������������������������������������������������������������������        
        ��������Đ��̏�����                ��BPL_Init            ��1.1   ��        
        ��������������������������������������������������������������������        
        ��������Đ��̃��Z�b�g              ��BPL_Reset           ��1.2   ��        
        ��������������������������������������������������������������������        
        ��������X�g���[�����̐ݒ�        ��BPL_SetStmInfo      ��1.3   ��        
        ��������������������������������������������������������������������        
        ��������X�g���[�����̎擾        ��BPL_GetStmInfo      ��1.4   ��        
        ��������������������������������������������������������������������        
        �����������̐ݒ�                ��BPL_SetBranchInfo   ��1.5   ��        
        ��������������������������������������������������������������������        
        �����������̎擾                ��BPL_GetBranchInfo   ��1.6   ��        
        ��������������������������������������������������������������������        
�@�@�@�@������Đ�����                                            ��2.0   ��        
        ��������������������������������������������������������������������        
        �����Đ��J�n�X�g���[���̎w��        ��BPL_SetStart        ��2.1   ��        
        ��������������������������������������������������������������������        
        ��������Đ��T�[�o�̎��s            ��BPL_ExecServer      ��2.2   ��        
        ��������������������������������������������������������������������        
        ���������̑I��                    ��BPL_SelectBranch    ��2.3   ��        
        ��������������������������������������������������������������������        
        �������݂̃X�g���[���̎擾          ��BPL_GetCurStm       ��2.4   ��        
        ��������������������������������������������������������������������        
        ���������̃X�g���[���̎擾        ��BPL_GetNextStm      ��2.5   ��        
        ��������������������������������������������������������������������        
        �����X�g���[���O���[�v�̎擾        ��BPL_GetStmGrp       ��2.6   ��        
        ��������������������������������������������������������������������        


�V�D�P�@�V�i���I����
������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ������Đ��̏�����                ��BPL_Init            ��1.1   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_Init(Sint32 bstmmax, Sint32 brmax, Sint32 keymax, void *work)
�m���́n�@bstmmax �F�o�^���镪��X�g���[���̑���
�@�@�@�@�@brmax   �F����̑���
�@�@�@�@�@keymax  �F�X�g���[���L�[�̎�ނ̑���
�@�@�@�@�@work    �F��Ɨ̈�
�m�o�́n�@�Ȃ�
�m�֐��l�n�G���[�R�[�h
�m�@�\�n
�@����Đ����C�u�������g�p���邽�߂ɍ�Ɨ̈������������B�ݒ肳��Ă���V�i���I���͑S�ăN���A�����B
�@����Đ����C�u�������g�p����O�ɕK�����s���邱�ƁB
�m���l�n
�@(a) ��Ɨ̈�̑傫���́ABPL_WORK_SIZE(bstmmax, brmax, keymax)�o�C�g�ɂ�苁�߂�B
�@�@�@��Ɨ̈�́A�S�o�C�g���E�ɔz�u���邱�ƁB
 �@�@�s��t Uint32 work[BPL_WORK_SIZE(bstmmax, brmax, keymax)/sizeof(Uint32)];
�@(b) �قȂ镪��X�g���[���ɑ΂��āA��ނ̈Ⴄ�X�g���[���L�[��ݒ肷��ꍇ�A�����́@�@�@��ނ̑��a��keymax�̒l�ɂȂ�B
�@�@ �s��t bstm1��key1�i�R��ނ̃L�[�j���Abstm2��key2�i�S��ނ̃L�[�j��ݒ肷��ꍇ�A
�@�@�@�@�@�@keymax��key1��key2�̘a�łV�ɂȂ�B
�@�@�@�@�@�@bstm1��bstm2�ɓ���key1��ݒ肷��ꍇ�Akeymax��key1�����̂R�ɂȂ�B
�@(c) BPL_Init�֐��ł́A�g�p���Ă���X�g���[���O���[�v�̃N���[�Y�����͂��Ȃ��B
�@�@�@����Đ����C�u�����̎g�p���ɋ����I�ɏ���������ɂ́ABPL_Reset�֐������s���邱�ƁB



������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ������Đ��̃��Z�b�g              ��BPL_Reset           ��1.2   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_Reset(void)
�m���́n�@�Ȃ�
�m�o�́n�@�Ȃ�
�m�֐��l�n�G���[�R�[�h
�m�@�\�n
�@����X�g���[���̃A�N�Z�X�𒆎~���A����Đ������Z�b�g����B�i����Đ����C�u�������g�p���Ă���X�g���[���O���[�v���N���[�Y���A�S�Ă̏�������������B�j



������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ������X�g���[�����̐ݒ�        ��BPL_SetStmInfo      ��1.3   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_SetStmInfo(Sint32 bstmid, Sint32 fid, Sint32 nkey, 
                                StmKey *keytbl)
�m���́n�@bstmid  �F����X�g���[�����ʎq(0 �� bstmid �� bstmmax)
�@�@�@�@�@fid     �F�t�@�C�����ʎq
�@�@�@�@�@nkey    �F�X�g���[���L�[�̐��inkey �� BPL_STMKEY_MAX�j
�@�@�@�@�@keytbl  �F�X�g���[���L�[�e�[�u��
�m�o�́n�@�Ȃ�
�m�֐��l�n�G���[�R�[�h
�m�@�\�n
�@����X�g���[���ɑ΂��āA����X�g���[�����i���ۂɓǂݍ��ތX�̃X�g���[���̏��j��ݒ肷��B
�m���l�n
�@(a) �P�̃t�@�C���ɕ����̃X�g���[���L�[��ݒ肷�邱�Ƃɂ��A�`���l���C���^���[�u�@�@�@����Ă���f�[�^��ǂݍ��ނ��Ƃ��ł���B
�@(b) �P�̕���X�g���[���ɐݒ�ł���X�g���[���L�[�́A�ő�BPL_STMKEY_MAX�ł���B
�@�@�@�S�X�g���[���Ŏg�p�ł���X�g���[���L�[�̎�ނ̑�����BPL_Init�֐��Ŏw�肷��B



������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ������X�g���[�����̎擾        ��BPL_GetStmInfo      ��1.4   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_GetStmInfo(Sint32 bstmid, Sint32 *fid, Sint32 *nkey, 
                                StmKey *keytbl)
�m���́n�@bstmid  �F����X�g���[�����ʎq
�m�o�́n�@fid     �F�t�@�C�����ʎq
�@�@�@�@�@nkey    �F�X�g���[���L�[�̐��inkey �� BPL_STMKEY_MAX�j
�@�@�@�@�@keytbl  �F�X�g���[���L�[�e�[�u��
�m�֐��l�n�ݒ肳��Ă��镪���̐��i���̏ꍇ�A�G���[�R�[�h�j
�m�@�\�n
�@����X�g���[���ɐݒ肳��Ă��镪��X�g���[�������擾����B
�@�����̐��ɂ��ẮA�������̐ݒ�֐��iBPL_SetBranchInfo�j���Q�Ƃ̂��ƁB


������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ���������̐ݒ�                ��BPL_SetBranchInfo   ��1.5   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_SetBranchInfo(Sint32 bstmid, Sint32 nbranch, Sint32 *brtbl)
�m���́n�@bstmid  �F����X�g���[�����ʎq
�@�@�@�@�@nbranch �F�����̐�
�@�@�@�@�@brtbl   �F����e�[�u��
�m�o�́n�@�Ȃ�
�m�֐��l�n�G���[�R�[�h
�m�@�\�n
�@����X�g���[���ɑ΂��ĕ������i�����̌��j��ݒ肷��B
�m���l�n
�@(a) ����e�[�u���ɂ́A������̕���X�g���[�����ʎq��ݒ肷��B
�@�@�@�����Ȃ��̐ݒ������ɂ́A����e�[�u���̗v�f��BPL_BR_NONE���w�肷�邱�ƁB
�@�@�@brtbl[0] = BSTMID_A;
�@�@�@brtbl[1] = BPL_BR_NONE;   /* �����Ȃ��i����Đ��̏I���j */
�@�@�@brtbl[2] = BSTMID_B;
�@�@�@nbranch = 3;
�@�@�@�����́ABPL_SelectBranch�֐��ƕ���ԍ��i����e�[�u�����̈ʒu�j�Ŏw�肷��B
�@�@�@���̗�̏ꍇ�A�I�����������ɂ���ĕ��򏈗��͎��̂悤�ɂȂ�B
      ������������������������������������������������������������������������������
      �� �I����������� ��      ���򏈗��i�T�[�o�֐��̕�����s�X�C�b�`ON���j      ��
      ������������������������������������������������������������������������������
      ������ԍ��O      ������X�g���[�����ʎqBSTMID_A�ɕ��򂷂�B                ��
      ������������������������������������������������������������������������������
      ������ԍ��P      ������Đ����I������B�i�I�𒼌�͕����Ȃ���ԂɂȂ�j  ��
      ������������������������������������������������������������������������������
      ������ԍ��Q      ������X�g���[�����ʎqBSTMID_B�ɕ��򂷂�B                ��
      ������������������������������������������������������������������������������
      �����̑�          ���iBPL_SelectBranch��BPL_ERR_BRNO�G���[��Ԃ��A�I�𖳌��j��
      ������������������������������������������������������������������������������

�@(b) �X�g���[���̐��́A�ȉ��̏����𖞂����K�v������B
�@�@�@�w �{ �x �� �y
�@�@�@�@�w�Fbstmid�ɐݒ肵���X�g���[���L�[�̐�
�@�@�@�@�x�F�����̃X�g���[���L�[�̐��̍��v
�@�@�@�@�y�F�����ɊJ�����Ƃ̂ł���X�g���[���̍ő吔�iSTM_Init�֐��Ŏw��j

������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ���������̎擾                ��BPL_GetBranchInfo   ��1.6   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_GetBranchInfo(Sint32 bstmid, 
                                   Sint32 *nbranch, Sint32 *brtbl, Sint32 nelem)
�m���́n�@bstmid  �F����X�g���[�����ʎq
�@�@�@�@�@nelem   �F����e�[�u���̗v�f��
�m�o�́n�@nbranch �F�����̐��i�����₪�Ȃ���΂O�ɂȂ�j
�@�@�@�@�@brtbl   �F����e�[�u���i�擪����ő�nelem�̕����₪�i�[�����j
�m�֐��l�n�G���[�R�[�h
�m�@�\�n
�@����X�g���[���ɐݒ肳��Ă��镪�������擾����B

�V�D�Q�@����Đ�����
������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ���Đ��J�n�X�g���[���̎w��        ��BPL_SetStart        ��2.1   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_SetStart(Sint32 bstmid)
�m���́n�@bstmid  �F����X�g���[�����ʎq�iBPL_BR_NONE�F����Đ��̒��~�j
�m�o�́n�@�Ȃ�
�m�֐��l�n�G���[�R�[�h
�m�@�\�n
�@�Đ��J�n�X�g���[���i�V�i���I�擪�̕���X�g���[���j���w�肷��B
�@����X�g���[�����ʎq��BPL_BR_NONE���w�肷��ƁA����Đ��𒆎~����B

������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ������Đ��T�[�o�̎��s            ��BPL_ExecServer      ��2.2   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_ExecServer(Bool chgsw)
�m���́n�@chgsw   �F������s�X�C�b�`�iON�F���򏈗�������COFF�F���Ȃ��j
�m�o�́n�@�Ȃ�
�m�֐��l�n����Đ����
�m�@�\�n
�@����Đ��T�[�o�����s����B������s�X�C�b�`��ON�̏ꍇ�A���򏈗��i����X�g���[���̐؂�ւ������j������B

�i�P�j�@����Đ����
      ������������������������������������������������������������������������������
      ��  �@�@�萔��      ��               �@�@�@�@���@�@��                       ��
      ������������������������������������������������������������������������������
      ��BPL_SVR_COMPLETED ������Đ��I��                                          ��
      ������������������������������������������������������������������������������
      ��BPL_SVR_WAITSEL   �������I��҂�                                        ��
      ������������������������������������������������������������������������������
      ��BPL_SVR_SELECT    ������挈��                                            ��
      ������������������������������������������������������������������������������
      ��BPL_SVR_NOBRN     �������Ȃ�                                            ��
      ������������������������������������������������������������������������������
�@����Đ���Ԃɂ��ẮA�u�R�D�R�@����Đ��̏�ԑJ�ځv���Q�Ƃ̂��ƁB

������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        �������̑I��                    ��BPL_SelectBranch    ��2.3   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_SelectBranch(Sint32 brno)
�m���́n�@brno    �F����ԍ�
�m�o�́n�@�Ȃ�
�m�֐��l�n�G���[�R�[�h
�m�@�\�n
�@�w�肳�ꂽ����ԍ��ɏ]���āA������I������B
�m���l�n
�@(a) BPL_ExecServer���s���ɕ�����s�X�C�b�`ON���w�肷��ƁA���ۂɕ��򏈗����Ȃ����B
�@�@�@�i�I����������悪���݂̃X�g���[���ւƐ؂�ւ��B�j
�@(b) �����₪�P�����Ȃ��Ă������̑I�������s����K�v������B

������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        �����݂̃X�g���[���̎擾          ��BPL_GetCurStm       ��2.4   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_GetCurStm(Sint32 nelem, StmHn *stmtbl)
�m���́n�@nelem   �F�X�g���[���n���h���e�[�u���̗v�f���inelem �� BPL_STMKEY_MAX�j
�m�o�́n�@stmtbl  �F�X�g���[���n���h���e�[�u��
�m�֐��l�n����X�g���[�����ʎq�i���̏ꍇ�A�Y�����镪��X�g���[�����Ȃ��j
�m�@�\�n
�@�ǂݍ��݁E���o���̑ΏۂƂȂ��Ă��錻�݂̃X�g���[���i����X�g���[�����ʎq�ƃX�g���[���n���h���j���擾����B
�m���l�n
�@(a) �X�g���[���n���h���e�[�u���ɂ́A�e�X�g���[���L�[�ɑΉ�����X�g���[���n���h�����@�@�@�ݒ肳���B


������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        �������̃X�g���[���̎擾        ��BPL_GetNextStm      ��2.5   ��
������������������������������������������������������������������������������������
�m�����n�@Sint32 BPL_GetNextStm(Sint32 nelem, StmHn *stmtbl)
�m���́n�@nelem   �F�X�g���[���n���h���e�[�u���̗v�f���inelem �� BPL_STMKEY_MAX�j
�m�o�́n�@stmtbl  �F�X�g���[���n���h���e�[�u��
�m�֐��l�n����X�g���[�����ʎq�i���̏ꍇ�A�Y�����镪��X�g���[�����Ȃ��j
�m�@�\�n
�@�����̃X�g���[���i����X�g���[�����ʎq�ƃX�g���[���n���h���j���擾����B
�m���l�n
�@(a) �X�g���[���n���h���e�[�u���ɂ́A�e�X�g���[���L�[�ɑΉ�����X�g���[���n���h�����@�@�@�ݒ肳���B
�@(b) ����悪�I�������iBPL_SelectBranch�����s�����j�܂ŁA�֐��l�͏�ɕ��ł���B


������������������������������������������������������������������������������������
��Title           ��Function                        ��Function Name       ��No    ��
���֐��d�l        ���X�g���[���O���[�v�̎擾        ��BPL_GetStmGrp       ��2.6   ��
������������������������������������������������������������������������������������
�m�����n�@StmGrpHn BPL_GetStmGrp(void)
�m���́n�@�Ȃ�
�m�o�́n�@�Ȃ�
�m�֐��l�n�X�g���[���O���[�v�n���h��
�m�@�\�n
�@����Đ����C�u�������g�p���Ă���X�g���[���O���[�v�̃n���h�����擾����B
�m���l�n
�@(a) ����Đ����C�u�����́A���쎞�ɂP�̃X�g���[���O���[�v���I�[�v������B
�@�@�@����Đ��I�����́A�X�g���[���O���[�v�n���h����NULL�ɂȂ�B

********************************* end of file *********************************
