//------------------------------------------------------------------------
//
//	X
//
//	TEXTURE LOADER
//
//	CONFIDENTIAL
//	Copyright (c) 1996, Sega Technical Institute
//
//	AUTHOR
//  CHRIS COFFIN
//
//	TARGET
//	SEGA SATURN
//
//	REVISION 
//	00/00/00
//
//	ORIGINAL FILE 
//	s:\sgl_3\sgl\sample\chrome\texture.c
//
//------------------------------------------------------------------------

#include	"sgl.h"
#include	"sega_sys.h"


short int palette[] = {
	0x0000,0x001f,0x1bff,0x1bff,0x1bff,0x1bff,0x1bff,0x1b9e,
	0x1b5d,0x171c,0x16fa,0x16b9,0x1657,0x1615,0x11d3,0x11b2,
	0x1170,0x0d4e,0x090c,0x08ea,0x04a8,0x04a7,0x0486,0x0486,
	0x0065,0x0064,0x0044,0x0043,0x0022,0x0022,0x0021,0x7fe0,
	0x0080,0x00a0,0x04e0,0x0900,0x0d21,0x1161,0x1581,0x1da2,
	0x25c2,0x2e03,0x3223,0x3a44,0x4685,0x4ea5,0x56c6,0x6307,
	0x56a6,0x4a65,0x3e44,0x3203,0x25e3,0x1da2,0x1181,0x0d41,
	0x0501,0x00e0,0x00a1,0x0081,0x0061,0x0041,0x0020,0x0000,
	0x7c00,0x7d02,0x7de4,0x7ec6,0x7f88,0x7feb,0x6fed,0x63ef,
	0x6ff2,0x7ff4,0x7770,0x6eec,0x6249,0x59a6,0x5103,0x4481,
	0x3c00,0x4060,0x44e0,0x4d80,0x5220,0x4ea0,0x42c0,0x2ee0,
	0x1f00,0x0740,0x0364,0x038a,0x03b0,0x03d8,0x03ff,0x0000,
	0x0000,0x0000,0x0421,0x0421,0x0842,0x0842,0x0c43,0x1064,
	0x1064,0x1485,0x1485,0x18a6,0x18a6,0x20c8,0x24e9,0x2d0a,
	0x312c,0x394d,0x416e,0x458f,0x4daf,0x51b0,0x59d1,0x6213,
	0x6656,0x6e99,0x72fb,0x7b3d,0x7f9f,0x7f9f,0x7f9f,0x7f9f,
	0x0000,0x0000,0x7c00,0x7800,0x7000,0x6c00,0x6400,0x5c00,
	0x5800,0x5000,0x4800,0x4400,0x3c00,0x3400,0x3000,0x2800,
	0x2400,0x2000,0x1c00,0x1c00,0x1800,0x1400,0x1400,0x1000,
	0x0c00,0x0c00,0x0800,0x0800,0x0400,0x0400,0x0000,0x0000,
	0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,
	0x0443,0x0486,0x08c9,0x0d0c,0x0d4f,0x11b2,0x1656,0x171b,
	0x1dd6,0x1d11,0x20cc,0x18a7,0x0842,0x1485,0x1ca8,0x20eb,
	0x24ee,0x2111,0x2154,0x21d7,0x225a,0x1efd,0x1bff,0x0000,
	0x7f9f,0x7f9f,0x7b5e,0x773d,0x731c,0x6ada,0x66b9,0x6298,
	0x5a56,0x5635,0x5213,0x4df2,0x45d1,0x418f,0x3d6e,0x354d,
	0x2d0a,0x28e9,0x24e9,0x20c8,0x20c7,0x1ca7,0x18a6,0x1485,
	0x1485,0x1064,0x0c43,0x0c42,0x0822,0x0421,0x0401,0x0000,
	0x0000,0x0421,0x0421,0x0842,0x0c43,0x1064,0x1485,0x18a6,
	0x1ca7,0x20c7,0x24e8,0x28e9,0x2d0a,0x312b,0x354c,0x396d,
	0x3d8f,0x49f2,0x5655,0x66b9,0x731c,0x7f9f,0x773d,0x6efb,
	0x66b9,0x5e77,0x5634,0x4df2,0x41b0,0x396e,0x312c,0x3230
};



char texture0[] = {
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0xd0,
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,
	0x70,0x70,0x70,0x70,0x70,0x70,0xd0,0xd0,
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,
	0x70,0x70,0x70,0x70,0x70,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0xd0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0x70,0x70,0x70,0xd0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0x70,0xf0,0xf0,0xd0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0x70,0xf0,0xf0,0xd0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0x70,0xf0,0xf0,0xd0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0xd0,0xd0,0xd0,0xd0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0x70,0x70,
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0x70,0x70,0x70,
	0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,
	0x70,0x70,0x70,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
	0xf0,0xf0,0xf0,0xf0,0xf0,0xd0,0xd0,0xd0,
	0x70,0x70,0x70,0xd0,0xd0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0x70,0x70,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0x70,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,
	0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0,0xd0
};


TEXTURE tex_table[]={
	TEXDEF(24,24,0),
	TEXDEF(8,1,0),
};

PICTURE	pic_table[]={
	PICDEF(0,COL_256,texture0),
	PICDEF(1,COL_256,texture0),

};

void set_texture(PICTURE *pcptr , Uint32 NbPicture)
{
	TEXTURE *txptr;
 
	for(; NbPicture-- > 0; pcptr++){
		txptr = tex_table + pcptr->texno;
		slDMACopy((void *)pcptr->pcsrc,
			(void *)(SpriteVRAM + ((txptr->CGadr) << 3)),
			(Uint32)((txptr->Hsize * txptr->Vsize * 4) >> (pcptr->cmode)));
	}
}


void Pal2CRAM( Uint16 *Pal_Data , void *Col_Adr , Uint32 suu )
{
	Uint16 i;
	Uint16 *VRAM;

	VRAM = (Uint16 *)Col_Adr;

	for( i = 0; i < suu; i++ )
		*(VRAM++) = *(Pal_Data++);
}


#define		LINE_COL_ADR			(VDP2_COLRAM	+ 0x00600)
#define		TEX_COL_ADR				(VDP2_COLRAM	+ 0x00800)
#define		NUM_TEXTURES			1

void	Texture_Load(void)
{

	// DMA TEXTURE TO VDP1 VRAM
	set_texture(pic_table,NUM_TEXTURES);
	// Load custom FX palette that textures reference	
	Pal2CRAM(palette , (void *)TEX_COL_ADR , 256);





}
