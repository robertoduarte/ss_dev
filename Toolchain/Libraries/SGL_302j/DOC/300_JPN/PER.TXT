;
;	System Management & Peripheral Control Library
;					1995/02/20  by 'Artemis' T.Ono


�� �T�v

	�� �r��������s�Ȃ��Ă���̂ŁA�}���`�v���Z�X���ł̎g�p���\�B
	�� �R�[�h�����̑啝�t�o�B
		�r�l�o�b���荞�ݏ����֐��ł̏������Ԃ̒Z�k����сA
		�I�[�o�[�w�b�h�����ɕۂ��Ă��邽�߁A�y���t�F�����f�[�^�擾��
		�œK�������Ă��鎞�ł��^�C���I�[�o�[���������ɂ����B
	�� �A�v���P�[�V�������炠����^�C�~���O�ŌĂяo�������ł���B
		�r�l�o�b�R�}���h�����N�G�X�g�����t���[���Ŋ��ɃC���^���v�g�o�b�N��
		���s����Ă����ꍇ�A�R�}���h�L���b�V���ɃL���[�C���O����A
		���̂u�u�����N�œK�؂ɂr�l�o�b�ւ̃R�}���h���s���s�Ȃ���B
	�� �C���^���v�g�o�b�N���s�E�f�[�^���W�͑S�����B
		���[�U�[���f�[�^���W�̐ݒ��ύX����ƁA���̃t���[�������
		�����I�ɃC���^���v�g�o�b�N�𔭍s���ăf�[�^���W���s�Ȃ���B
		�r�l�o�b���f�[�^���W���ł��ȑO�̃f�[�^���Q�Ƃł��A
		�t���[�����ς��u�u�����N���ɍŐV�̏��ɐ؂�ւ��B
	�� �y���t�F�������ڑ��|�[�g�̃X�L�b�v�@�\�B
		�}���`�^�b�v����؈ӎ�����K�v�������B
	�� �X���[�u�b�o�t�̃R�}���h���s�������������ʁB
		�i�������A�z�z�łł̓������A�N�Z�X�����t�o�ׁ̈A
		�X���[�u�b�o�t����̌Ăяo���͋����Ă��Ȃ��j


�� �֐��ڍ�

	�߂�l�� Bool �̊֐��́A���s���ʂ�Ԃ��B
		OK ... ����
		NG ... ���s

	���s�����ꍇ�A�ȉ��̏󋵂��l������B

		�S�Ă̊֐�

			�� �Z�}�t�H�̎擾���ł��Ȃ��i���v���Z�X�ɂă��b�N���j

		�y���t�F�����|�[�g���o�͊֐�

			�� �C���^���v�g�o�b�N�ݒ肪����Ă���

		�R�}���h���N�G�X�g�֐�

			�� �R�}���h�L���b�V���I�[�o�[�t���[
			�� �X���[�u�b�o�t�̃R�}���h���s�����ɒ�G����

		�R�}���h���N�G�X�g�֐��̂����A�r�l�o�b�̃R�}���h���s�I����҂���
		����сAslClockChange352, slClockChange320

			�� �C���^���v�g�o�b�N�����s����Ă���

		�C���^���v�g�o�b�N�ݒ�֐�

			�� �y���t�F�����|�[�g���o�͐ݒ肪�������Ȃ�
			�� �X���[�u�b�o�t�̃R�}���h���s�����ɒ�G����

		���̑��A�t���̃}�N�����g�p�����ɕs���ȃp�����[�^��p����
		�R�}���h���N�G�X�g�����ꍇ

	�� ������

;-------------------------------------------------------------------------------;
;	�y���t�F��������̏�����
;		Prottype	: void slInitPeripheral(void)
;		Contents	: slInitSystem �̒��ŌĂяo���Ă���̂�
;				: ���[�U�[���ĂԕK�v�͂Ȃ�
;-------------------------------------------------------------------------------;

	�� �y���t�F�����|�[�g���o��
		�� �r�g�Q�_�C���N�g���[�h�ł̐���Ɏg�p

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̓��o�͕������擾
;		Prottype	: Uint8 slGetPortDir1(void)
;		Contents	: ���ʂV�r�b�g�̂ݗL��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̓��o�͕������擾
;		Prottype	: Uint8 slGetPortDir2(void)
;		Contents	: ���ʂV�r�b�g�̂ݗL��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̓��o�͕�����ݒ�
;		Prottype	: Bool slSetPortDir1(Uint8)
;		Contents	: ���ʂV�r�b�g�̂ݗL��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̓��o�͕�����ݒ�
;		Prottype	: Bool slSetPortDir2(Uint8)
;		Contents	: ���ʂV�r�b�g�̂ݗL��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̃f�[�^���擾
;		Prottype	: Uint8 slGetPortData1(void)
;		Contents	: ���ʂV�r�b�g�̂ݗL��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̃f�[�^���擾
;		Prottype	: Uint8 slGetPortData2(void)
;		Contents	: ���ʂV�r�b�g�̂ݗL��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̃f�[�^��ݒ�
;		Prottype	: void slSetPortData1(Uint8)
;		Contents	: ���ʂV�r�b�g�̂ݗL��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̃f�[�^��ݒ�
;		Prottype	: void slSetPortData2(Uint8)
;		Contents	: ���ʂV�r�b�g�̂ݗL��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̓��o�̓Z���N�g���[�h���擾
;		Prottype	: Uint8 slGetPortSelect1(void)
;		Contents	: SMPC_CONTROL    ... �r�l�o�b�R���g���[���i�����l�j
;				: SMPC_SH2_DIRECT ... �r�g�Q�_�C���N�g
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̓��o�̓Z���N�g���[�h���擾
;		Prottype	: Uint8 slGetPortSelect2(void)
;		Contents	: SMPC_CONTROL    ... �r�l�o�b�R���g���[���i�����l�j
;				: SMPC_SH2_DIRECT ... �r�g�Q�_�C���N�g
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̓��o�̓Z���N�g���[�h��ݒ�
;		Prottype	: Bool slSetPortSelect1(Uint8)
;		Contents	: SMPC_CONTROL    ... �r�l�o�b�R���g���[���i�����l�j
;				: SMPC_SH2_DIRECT ... �r�g�Q�_�C���N�g
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̓��o�̓Z���N�g���[�h��ݒ�
;		Prottype	: Bool slSetPortSelect2(Uint8)
;		Contents	: SMPC_CONTROL    ... �r�l�o�b�R���g���[���i�����l�j
;				: SMPC_SH2_DIRECT ... �r�g�Q�_�C���N�g
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̊O�����b�`���̓��[�h���擾
;		Prottype	: Uint8 slGetPortExt1(void)
;		Contents	: SMPC_EXL_DIS ... �O�����b�`���͋֎~�i�����l�j
;				: SMPC_EXL_ENA ... �O�����b�`���͋���
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̊O�����b�`���̓��[�h���擾
;		Prottype	: Uint8 slGetPortExt2(void)
;		Contents	: SMPC_EXL_DIS ... �O�����b�`���͋֎~�i�����l�j
;				: SMPC_EXL_ENA ... �O�����b�`���͋���
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̊O�����b�`���̓��[�h��ݒ�
;		Prottype	: Bool slSetPortExt1(Uint8)
;		Contents	: SMPC_EXL_DIS ... �O�����b�`���͋֎~�i�����l�j
;				: SMPC_EXL_ENA ... �O�����b�`���͋���
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̊O�����b�`���̓��[�h��ݒ�
;		Prottype	: Bool slSetPortExt2(Uint8)
;		Contents	: SMPC_EXL_DIS ... �O�����b�`���͋֎~�i�����l�j
;				: SMPC_EXL_ENA ... �O�����b�`���͋���
;-------------------------------------------------------------------------------;

	�� �y���t�F�����R���g���[�����[�h
		�� �A�v���P�[�V�����̎d�l�ɂ��A�K�v�Ȃ�ݒ�

;-------------------------------------------------------------------------------;
;	�y���t�F�����擾���ԍœK�����[�h���擾
;		Prottype	: Uint8 slGetOptimize(void)
;		Contents	: SMPC_OPT_ENA ... �擾���ԍœK�����i�����l�j
;				: SMPC_OPT_DIS ... �擾���ԍœK���֎~
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����擾���ԍœK�����[�h��ݒ�
;		Prottype	: Bool slSetOptimize(Uint8)
;		Contents	: SMPC_OPT_ENA ... �擾���ԍœK�����i�����l�j
;				: SMPC_OPT_DIS ... �擾���ԍœK���֎~
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̃|�[�g���[�h���擾
;		Prottype	: Uint8	slGetPortMode1(void)
;		Contents	: SMPC_PORT_15   ... �P�T�o�C�g���[�h�i�����l�j
;				: SMPC_PORT_255  ... �Q�T�T�o�C�g���[�h
;				: SMPC_PORT_ZERO ... �O�o�C�g���[�h
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̃|�[�g���[�h���擾
;		Prottype	: Uint8	slGetPortMode2(void)
;		Contents	: SMPC_PORT_15   ... �P�T�o�C�g���[�h�i�����l�j
;				: SMPC_PORT_255  ... �Q�T�T�o�C�g���[�h
;				: SMPC_PORT_ZERO ... �O�o�C�g���[�h
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�P�̃|�[�g���[�h��ݒ�
;		Prottype	: Bool	slSetPortMode1(Uint8)
;		Contents	: SMPC_PORT_15   ... �P�T�o�C�g���[�h�i�����l�j
;				: SMPC_PORT_255  ... �Q�T�T�o�C�g���[�h
;				: SMPC_PORT_ZERO ... �O�o�C�g���[�h
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g�Q�̃|�[�g���[�h��ݒ�
;		Prottype	: Bool	slSetPortMode2(Uint8)
;		Contents	: SMPC_PORT_15   ... �P�T�o�C�g���[�h�i�����l�j
;				: SMPC_PORT_255  ... �Q�T�T�o�C�g���[�h
;				: SMPC_PORT_ZERO ... �O�o�C�g���[�h
;-------------------------------------------------------------------------------;

	�� ��Ԑ���

;-------------------------------------------------------------------------------;
;	�r�l�o�b���Z�b�g�{�^����Ԃ��擾
;		Prottype	: Uint8 slCheckReset(void)
;		Contents	: SMPC_RES_OFF ... ���Z�b�g�{�^���n�e�e�i�����l�j
;				: SMPC_RES_ON  ... ���Z�b�g�{�^���n�m
;				: ��x ON �ɂȂ�� slClearReset ���ĂԂ܂ŕω����Ȃ�
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b���Z�b�g�{�^����Ԃ��N���A
;		Prottype	: Bool slClearReset(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�C���^���v�g�o�b�N�ݒ蒆�t���O���N���A
;		Prottype	: Bool slIntBackCancel(void)
;				: �C���^���v�g�o�b�N�ݒ���������鎞�Ɏg�p
;-------------------------------------------------------------------------------;

	�� �r�l�o�b�������ϊ��T�[�r�X
		�� �r�l�o�b�ێ��������A�N�Z�X���Ɏg�p

;-------------------------------------------------------------------------------;
;	�r�l�o�b����������ԍ����擾
;		Prottype	: Uint8 slGetLanguage(void)
;		Contents	: SMPC_ENGLISH  ... �p��
;				: SMPC_DEUTSCH  ... �h�C�c��
;				: SMPC_FRANCAIS ... �t�����X��
;				: SMPC_ESPANOL  ... �X�y�C����
;				: SMPC_ITALIANO ... �C�^���A��
;				: SMPC_JAPAN    ... ���{��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b����������ԍ���ݒ�
;		Prottype	: void slSetLanguage(Uint8)
;		Contents	: SMPC_ENGLISH  ... �p��
;				: SMPC_DEUTSCH  ... �h�C�c��
;				: SMPC_FRANCAIS ... �t�����X��
;				: SMPC_ESPANOL  ... �X�y�C����
;				: SMPC_ITALIANO ... �C�^���A��
;				: SMPC_JAPAN    ... ���{��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b���������ʉ����[�h���擾
;		Prottype	: Uint8 slGetSoundEffect(void)
;		Contents	: SMPC_EFFECT_ON  ... ���ʉ��n�m
;				: SMPC_EFFECT_OFF ... ���ʉ��n�e�e
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b���������ʉ����[�h��ݒ�
;		Prottype	: void slSetSoundEffect(Uint8)
;		Contents	: SMPC_EFFECT_ON  ... ���ʉ��n�m
;				: SMPC_EFFECT_OFF ... ���ʉ��n�e�e
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�����������o�̓��[�h���擾
;		Prottype	: Uint8 slGetSoundOutput(void)
;		Contents	: SMPC_SOUND_STEREO ... �X�e���I
;				: SMPC_SOUND_MONO   ... ���m����
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�����������o�̓��[�h��ݒ�
;		Prottype	: void slSetSoundOutput(Uint8)
;		Contents	: SMPC_SOUND_STEREO ... �X�e���I
;				: SMPC_SOUND_MONO   ... ���m����
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�������w���v�E�B���h�E���[�h���擾
;		Prottype	: Uint8 slGetHelpWindow(void)
;		Contents	: SMPC_HELP_ENA ... �\������
;				: SMPC_HELP_DIS ... �\�����Ȃ�
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�������w���v�E�B���h�E���[�h��ݒ�
;		Prottype	: void slSetHelpWindow(Uint8)
;		Contents	: SMPC_HELP_ENA ... �\������
;				: SMPC_HELP_DIS ... �\�����Ȃ�
;-------------------------------------------------------------------------------;

	�� �r�l�o�b�R�}���h���N�G�X�g�i NO_WAIT �j
		�� �r�l�o�b�̃R�}���h���s�I����҂��Ȃ�
		�� �C���^���v�g�o�b�N�����s����Ă�����R�}���h�L���b�V�����g�p
		�� �ȉ��̊֐��͂q�n�l�����[�`�����Ăяo�����߁A
			�E�G�C�g���[�h�ƂȂ�A�L���b�V���g�p�s��
			slClockChange352, slClockChange320

;-------------------------------------------------------------------------------;
;	�}�X�^�@�r�g�Q�@�n�m
;		Prottype	: Bool slMasterOn(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�X���[�u�@�r�g�Q�@�n�m
;		Prottype	: Bool slSlaveOn(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�X���[�u�@�r�g�Q�@�n�e�e
;		Prottype	: Bool slSlaveOff(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�E���h�@�n�m
;		Prottype	: Bool slSoundOn(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�E���h�@�n�e�e
;		Prottype	: Bool slSoundOff(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�b�c�@�n�m
;		Prottype	: Bool slCDOn(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�b�c�@�n�e�e
;		Prottype	: Bool slCDOff(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�V�X�e���S�̃��Z�b�g
;		Prottype	: Bool slSystemReset(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�N���b�N�`�F���W�R�T�Q���[�h
;		Prottype	: Bool slClockChange352(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�N���b�N�`�F���W�R�Q�O���[�h
;		Prottype	: Bool slClockChange320(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�m�l�h���N�G�X�g
;		Prottype	: Bool slNMIRequest(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���Z�b�g�C�l�[�u��
;		Prottype	: Bool slResetEnable(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���Z�b�g�f�B�X�G�[�u��
;		Prottype	: Bool slResetDisable(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�������ݒ�
;		Prottype	: Bool slSetSmpcMemory(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�����ݒ�
;		Prottype	: Bool slSetDateTime(void)
;-------------------------------------------------------------------------------;

	�� �r�l�o�b�R�}���h���N�G�X�g�i WAIT �j
		�� �r�l�o�b�̃R�}���h���s�I����҂�
		�� �C���^���v�g�o�b�N�����s����Ă����玸�s����

;-------------------------------------------------------------------------------;
;	�}�X�^�@�r�g�Q�@�n�m
;		Prottype	: Bool slMasterOnWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�X���[�u�@�r�g�Q�@�n�m
;		Prottype	: Bool slSlaveOnWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�X���[�u�@�r�g�Q�@�n�e�e
;		Prottype	: Bool slSlaveOffWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�E���h�@�n�m
;		Prottype	: Bool slSoundOnWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�E���h�@�n�e�e
;		Prottype	: Bool slSoundOffWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�b�c�@�n�m
;		Prottype	: Bool slCDOnWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�b�c�@�n�e�e
;		Prottype	: Bool slCDOffWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�m�l�h���N�G�X�g
;		Prottype	: Bool slNMIRequestWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���Z�b�g�C�l�[�u��
;		Prottype	: Bool slResetEnableWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���Z�b�g�f�B�X�G�[�u��
;		Prottype	: Bool slResetDisableWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�������ݒ�
;		Prottype	: Bool slSetSmpcMemoryWait(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�����ݒ�
;		Prottype	: Bool slSetDateTimeWait(void)
;-------------------------------------------------------------------------------;

	�� �C���^���v�g�o�b�N�ݒ�
		�� ��x�����Ăׂ΂悭�A�ݒ��ύX���鎞�����������ɂ��̂܂܌Ăׂ�
		�� ���̃t���[������ݒ肪�L���ƂȂ�A�f�[�^���W���J�n����
		�� �ݒ��ύX�����ꍇ�A���̃t���[���Ŏ��W�����f�[�^��
			���̃t���[���ł̎Q�ƃf�[�^�ɔ��f����A
			���̃t���[���ł̎��W�f�[�^����
			�V�����ݒ肪���f�����
		�� ���������āA���W�����f�[�^���Q�Ƃł���̂�
			�ݒ��Q�t���[���ڂ���ƂȂ�
		�����C�u�����N�����́AslInitSystem �Ńy���t�F�����f�[�^�̂ݎ擾��
			�ݒ�����Ă���̂ŁA�E�G�C�g�����Ƀy���t�F�����̎Q�Ƃ�
			�J�n���鎖���ł���

;-------------------------------------------------------------------------------;
;	�C���^���v�g�o�b�N�i�r�l�o�b�X�e�[�^�X�E�y���t�F�����f�[�^���擾�j
;		Prottype	: Bool slGetStatus(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�C���^���v�g�o�b�N�i�y���t�F�����f�[�^�̂ݎ擾�j
;		Prottype	: Bool slGetPeripheral(void)
;-------------------------------------------------------------------------------;


�� �g�p�@

	�� ����őS�Ă��킩��I
		�y���t�F��������T���v���v���O����

;-------------------------------------------------------------------------------;

void main()
{
	slInitSystem(TV_320x224, NULL, 1);
	{
		slSetLanguage(SMPC_JAPAN);
		slSetSoundEffect(SMPC_EFFECT_ON);
		slSetSoundOutput(SMPC_SOUND_STEREO);
		slSetHelpWindow(SMPC_HELP_ENA);
		(void)slSetSmpcMemory();
	}

	{
		SmpcDateTime* dt = &(Smpc_Status->rtc);

		dt->year = 0x1999;
		dt->month = SMPC_FRI | SMPC_DEC;
		dt->date = 0x31;
		dt->hour = 0x23;
		dt->minute = 0x59;
		dt->second = 0x59;
		(void)slSetDateTime();
	}

	(void)slResetDisable();
	(void)slCDOn();
	(void)slSoundOn();

	while(TRUE) {
		if(slCheckReset() == SMPC_RES_ON) {
			(void)slClearReset();
			break;
		}

		if(Per_Connect1) {
			PerDigital* pad;

			pad = Smpc_Peripheral + 0;
			if(!(pad->data & PER_DGT_ST)) break;
		}
		slSynch();
	}

	(void)slSoundOff();
	(void)slCDOff();
	(void)slResetEnable();
	(void)slIntBackCancel();

	while(TRUE) slSynch();
}

;-------------------------------------------------------------------------------;


�� ���C�u�����g�p���̋ւ��肨��сA
	�t�@���N�V�����R�[���菇�ɂ����s���s�̗�

	�� �X���[�u�r�g�Q����̌Ăяo���͋֎~�B
		�z�z�łł͓������[�N�G���A���L���b�V���X���[�̈�Ɏ���Ă��Ȃ��̂ŁA
		���삪�s��ƂȂ�B
		���ɔr�����䂪����ɍs�Ȃ��Ȃ��ׁA�r�l�o�b���f�b�h���b�N����Ȃǂ�
		�s���������B
		����A�X���[�u�r�g�Q����̌Ăяo�����T�|�[�g����K�v���������ꍇ��
		���[�N�G���A���L���b�V���X���[�A�h���X�ɂ���C���݂̂ŉB

	�� "slGetPeripheral" ����� "slGetStatus" ���s��A
		�ȉ��̊֐����Ăяo���ꂽ���ɃC���g�o�b�N�R�}���h�����s���������ꍇ�A
		���s�Ɏ��s����B
		����̓E�G�C�g���[�h�ł̂r�l�o�b�R�}���h���N�G�X�g��
		�R�}���h�L���b�V�����g�p���Ȃ�����O��Ƃ��Ă��邽�߁B

		slCDOffWait
		slCDOnWait
		slMasterOnWait
		slNMIRequestWait
		slResetDisableWait
		slResetEnableWait
		slSetDateTimeWait
		slSetSmpcMemoryWait
		slSlaveOffWait
		slSlaveOnWait
		slSoundOffWait
		slSoundOnWait

		��L�̎��s���s���������ɂ́A"slIntBackCancel" ���Ăяo���A
		���̃t���[���ŃR�}���h���s����΂悢�B

		�ȉ��̊֐��̓C���g�o�b�N�R�}���h���s���łȂ��Ă����s�Ɏ��s����B
		����͂r�l�o�b�������ݒ��ԈȊO�ł̃C���g�o�b�N�R�}���h�̔��s��
		�֎~���Ă��邽�߁B

		slSetPortDir1,2
		slSetPortExt1,2
		slSetPortSelect1,2

		��L�̎��s���s���������ɂ́A"slIntBackCancel" ���Ăяo���΂悢�B

	�� "slIntBackCancel" ���s��A�ȉ��̏�����ݒ肵���ꍇ�A
		"slGetPeripheral" �̌ďo���Ŏ��s�ƂȂ�B

		"slSetPortSelect1,2" �łr�l�o�b�R���g���[�����[�h�ɂ����|�[�g�ɂ���
			"slSetPortDir1,2" �ŏo�͐ݒ�ɂ����B
			"slSetPortExt1,2" �ŊO�����b�`���͂��������B
			��L�����ꂩ�̏ꍇ����сA�����ݒ肵���ꍇ�B

		����͂r�l�o�b�������ݒ��ԈȊO�ł̃C���g�o�b�N�R�}���h�̔��s��
		�֎~���Ă��邽�߁B

		"slSetPortSelect1,2" �Ń|�[�g�P�E�Q�����ɂr�g�Q�_�C���N�g���[�h�ɂ����B

		����͂r�l�o�b���|�[�g���o�͐ݒ�Ɋւ�炸�A
		�|�[�g�Z���N�g�����ɂr�g�Q�_�C���N�g���[�h�̎��́A
		�y���t�F�����f�[�^�݂̂�Ԃ��C���g�o�b�N�R�}���h��
		���s���֎~���Ă��邽�߁B

	�� "slIntBackCancel" ���s��A�ȉ��̏�����ݒ肵���ꍇ�A
		"slGetStatus" �̌ďo���Ŏ��s�ƂȂ�B

		"slSetPortSelect1,2" �łr�l�o�b�R���g���[�����[�h�ɂ����|�[�g�ɂ���
			"slSetPortDir1,2" �ŏo�͐ݒ�ɂ����B
			"slSetPortExt1,2" �ŊO�����b�`���͂��������B
			��L�����ꂩ�̏ꍇ����сA�����ݒ肵���ꍇ�B

		����͂r�l�o�b�������ݒ��ԈȊO�ł̃C���g�o�b�N�R�}���h�̔��s��
		�֎~���Ă��邽�߁B


�� ���E���\

	�� �ő�L���b�V���O�R�}���h��   ... �R�P��
	�� �ő�y���t�F�����f�[�^�T�C�Y ... �P�T�o�C�g �� �R�O�|�[�g
		�X�T�N�S���P�����݂Ŕ�������Ă���y���t�F�����f�o�C�X����сA
		���㔭�������y���t�F�����f�o�C�X����̂P�T�o�C�g���[�h�ł�
		�f�[�^�擾�ɑΉ��B
		�V�X�e���ϐ� "Smpc_Result" ����� "Smpc_Peripheral" �ւ�
		���[�U�[��`�o�b�t�@�A�h���X�̓o�^�ɂ��A
		�Q�T�T�o�C�g���[�h�ɂ��f�[�^�擾���\�B
		�������A�f�o�C�X�ŗL�̃f�[�^�ϊ��������s�Ȃ��ɂ�
		���C�u�����T�|�[�g���K�v�B


�� ���܂�

	�� ���C�u�������[�J���֐��d�l
		�ڂ����̓A�Z���u���\�[�X�t�@�C�������Ă�

;-------------------------------------------------------------------------------;
;	�r�l�o�b�Z�}�t�H�̊l��
;		Prottype	: Bool slGetSmpcSemaphore(void)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�Z�}�t�H�̉��
;		Prottype	: Bool slSendSmpcSemaphore(Bool)
;		Contents	: �����Ɠ����l���Ԃ�
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�{�^���f�[�^������
;		Prottype	: void slPerInitButton(Uint16, void*)
;		Contents	: Data, Push, Pull �̏�����
;				: �������͋U���ł�
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�{�^���f�[�^�ݒ�
;		Prottype	: void slPerSetButton(Uint16, void*)
;		Contents	: Data, Push, Pull �̐ݒ�
;				: �������ɐV�f�W�^���f�[�^��n��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���g�p�f�[�^�]��
;		Prottype	: void* slPerReserved(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�^�[���W���p�b�h�f�[�^�]��
;		Prottype	: void* slPerSaturnPad(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�^�[�����[�V���O�R���g���[���[�f�[�^�]��
;		Prottype	: void* slPerSaturnLacing(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�^�[���A�i���O�W���C�X�e�B�b�N�f�[�^�]��
;		Prottype	: void* slPerSaturnAnalog(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�^�[���}�E�X�f�[�^�]��
;		Prottype	: void* slPerSaturnMouse(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�T�^�[���L�[�{�[�h�f�[�^�]��
;		Prottype	: void* slPerSaturnKeyBoard(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���K�h���C�u�R�{�^���p�b�h�f�[�^�]��
;		Prottype	: void* slPerMega3ButtonPad(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���K�h���C�u�U�{�^���p�b�h�f�[�^�]��
;		Prottype	: void* slPerMega6ButtonPad(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�g���T�C�Y�f�W�^���f�o�C�X�f�[�^�]��
;		Prottype	: void* slExtDigitalDev(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�g���T�C�Y�A�i���O�f�o�C�X�f�[�^�]��
;		Prottype	: void* slExtAnalogDev(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�g���T�C�Y�|�C���e�B���O�f�o�C�X�f�[�^�]��
;		Prottype	: void* slExtPointingDev(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�g���T�C�Y�L�[�{�[�h�f�o�C�X�f�[�^�]��
;		Prottype	: void* slExtKeyBoardDev(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�g���T�C�Y���K�h���C�u�f�o�C�X�f�[�^�]��
;		Prottype	: void* slExtMegaDriveDev(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�s���f�o�C�X�f�[�^�]��
;		Prottype	: void* slPerUnknownDev(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���ڑ��f�[�^�]��
;		Prottype	: void* slPerNotConnect(void*, void*)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�R�}���h�ԍ����r�l�o�b�R�}���h�e�[�u���A�h���X�ɕϊ�
;		Prottype	: void* slGetSmpcComTbl(Uint8)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�C���^���v�g�o�b�N�ݒ�����̃`�F�b�N
;		Prottype	: Bool slIntBackCondition(void)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�������o�̓Z���N�g���[�h�̃`�F�b�N
;		Prottype	: Bool slIntBackSelect(void)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����|�[�g���[�h�̃`�F�b�N
;		Prottype	: Uint32 slIntBackPortMode(Uint32)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�R�}���h�L���b�V���ɒǉ�
;		Prottype	: Bool slRequestQueue(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�C���^���v�g�o�b�N���s���t���O�̃`�F�b�N
;		Prottype	: Bool slCheckIntBackReq(void)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�C���^���v�g�o�b�N�ݒ蒆�t���O�̃`�F�b�N
;		Prottype	: Bool slCheckIntBackSet(void)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�C���^���v�g�o�b�N�ݒ蒆�t���O���Z�b�g
;		Prottype	: void slSetIntBack(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b���Z�b�g�{�^���J�E���^�[���X�V
;		Prottype	: void slUpdateResetCount(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�y���t�F�����f�[�^������
;		Prottype	: void slClearPeripheral(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�y���t�F�����f�[�^�ݒ�
;		Prottype	: Uint8 slSetPeripheral(Uint8**, void**)
;		Contents	: �ڑ�����Ă���y���t�F�������ɁA
;				: �f�[�^�]���֐����Ăяo��
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b���U���g�f�[�^�ݒ�
;		Prottype	: void slSetResultData(void)
;		Contents	: �|�[�g���̓]������
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�R�}���h�L���b�V���̑��M
;		Prottype	: void slSmpcCashSend(void)
;		Contents	: V_Blank_In ���荞�ݏ����֐�����A
;				: �t���[���P�ʁi�t���[���̕ς��ځj�ŌĂяo��
;				: IntBack �R�}���h���s�����������ōs�Ȃ���
;				: 300[us] �����Ă���Ă�ł�
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�R�}���h�L���b�V���̔r�o
;		Prottype	: void slSmpcCashBlow(void)
;		Contents	: V_Blank_Out ���荞�ݏ����֐�����A
;				: ����i���u�j�Ăяo��
;				: IntBack �����ĂȂ����ɁA�L���b�V���O����Ă���
;				: �R�}���h�������ŏ�������
;				: �i�u�u�����N���ɔ��s������Ȃ����������܂ށj
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�X�e�[�^�X���擾
;		Prottype	: void slGetSmpcStatus(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b���U���g�f�[�^���擾
;		Prottype	: void slGetSmpcResult(void)
;		Contents	: �������łR�Q�o�C�g�擾���鉎���[�`�������ǁA
;				: �r�l�o�b�ɂ͂��ꂪ�œK�ł���H
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b���荞�ݏ���
;		Prottype	: void slSmpcIntBack(void)
;		Contents	: IntBack �̔����ł������Ă΂��
;				: OREG ���擾����ȊO�������Ȃ�
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�C���^���v�g�o�b�N�R�}���h�p�����[�^�ݒ�
;		Prottype	: void slComPrmIntBack(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�������ݒ�R�}���h�p�����[�^�ݒ�
;		Prottype	: void slComPrmSetMemory(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�����ݒ�R�}���h�p�����[�^�ݒ�
;		Prottype	: void slComPrmSetTime(void)
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�R�}���h���s
;		Prottype	: Bool slSendSmpcCommand(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	���Z�b�g�n�R�}���h���s
;		Prottype	: Bool slExecBasicCommand(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�V�X�e���S�̃��Z�b�g���s
;		Prottype	: Bool slExecSystemReset(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�N���b�N�`�F���W���s
;		Prottype	: Bool slExecClockChange(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�X�e�[�^�X�擾���s
;		Prottype	: Bool slExecGetStatus(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�y���t�F�����擾���s
;		Prottype	: Bool slExecGetPeripheral(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�������ݒ���s
;		Prottype	: Bool slExecSetMemory(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�����ݒ���s
;		Prottype	: Bool slExecSetTime(void*, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

;-------------------------------------------------------------------------------;
;	�r�l�o�b�R�}���h�̃��N�G�X�g
;		Prottype	: Bool slRequestCommand(Uint8, Uint8)
;		Contents	: OK ... ����
;				: NG ... ���s
;-------------------------------------------------------------------------------;

