<html><head><title>KPIT GNU TOOLS</title></head><body><table width="95%" border="1" borderColorlight="#999999" cellspacing="0" cellpadding="6" align="center" bgcolor="#778899"><tr>
		<td align="center"><a name="top"></a><b>&nbsp;HEW</b></td>
	</tr><tr bgcolor="#f5f5f5">
		<td align="left"><a href="#003001">General</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tr><tr bgcolor="#b0c4de"><td><a name="003001"><b><font size="2" face="Arial">General</font></b></a><div align="right" style=" visibility:
						visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#top" style="">Go Top</a></div></td></tr><tr bgcolor="#f5f5f5"><td><a href="#86"><font size="2" face="Arial">Q1. How do I generate S-Record MOT file automatically from HEW ? </font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#87"><font size="2" face="Arial">Q2. How do I define various memory areas or define linker script using HEW ?</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#88"><font size="2" face="Arial">Q3. I am unable to source-level debug HEW generated project for COFF tool chain. Why ?</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#89"><font size="2" face="Arial">Q4. How do I manipulate heap and stack through HEW ?</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#90"><font size="2" face="Arial">Q5. How do I pre-process assembly files in HEW ?</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#91"><font size="2" face="Arial">Q6. How do I debug binaries created by ELF tool chain ?
</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#92"><font size="2" face="Arial">Q7. How do I install Japanese version of ELF/DWARF2 reader for HEW 2.x ?</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#93"><font size="2" face="Arial">Q8. Are there any issues when more than one versions of HEW installed on the same machine ?
</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#94"><font size="2" face="Arial">Q9.  How to setup the simulator to debug my code in HEW ? or What do I do when getting "memory access error" while using HEW simulator?
</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#95"><font size="2" face="Arial">Q10. How can I create a section in HEW which the linker will exclude in the output file? </font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#141"><font size="2" face="Arial">Q11. Can I integrate the GNUH8 v0302 and below versions with HEW 3.x (High-performance Embedded Workshop)? OR Does GNUH8 v0302 and below versions detect HEW 3.x? 
</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#142"><font size="2" face="Arial">Q12. I have HEW version 2.x and HEW version 3.x installed on my machine. Can I integrate the GNUH8 tool chain with both the HEW installations? OR 
Can I integrate the GNUH8 tool chain with multiple installations of HEW version 2.x? 
</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#162"><font size="2" face="Arial">Q13. HEW 3.x sometimes becomes very busy (not very responsive). Is there any way to enhance the speed?</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#165"><font size="2" face="Arial">Q14. How can a section be discarded through HEW?</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><a href="#308"><font size="2" face="Arial">Q15. On adding Memory region a warning "no memory region specified for section `.bss' " is encountered. How can this error be ignored through HEW?</font></a></b></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="86">Q1. How do I generate S-Record MOT file automatically from HEW ? </a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><b>A1.</b>You can achieve this by two methods. <p>1. The linker may be used to generate a *.mot file <br>        Go to the linker menu of the "Options" Menu.<br>         Go to the "output" page of the linker settingsdialog box.<br>        From the "Output format" drop-down list select"Generate S-Record file" <br>        as the output format.</p>        <p>However, with this you will lose all the debugginginformation as the        *.mot file does not contain the debugging info.</p>      <p>2. The *.mot file can also be generated using the objcopyutility.<br>         To achieve this you can specify an extra custom phase in HEWitself so          as to generate *.mot file along with the*.out file.</p>         <p>Follow the steps given below.<br><br>         a. Go to the "Build Phases" option from"options" menu.<br><br>        b. Click on Add. Select "Create a new custom phase"and click "Next".<br><br>        c. Select "Linker Output file" as Input file type,"Single phase" and click        "Next"<br><br>        d. Set "Command" as<br><br>        "$(HEWDIR)\Tools\KPIT Cummins\GNUSH-COFF\v0304\Sh-coff\bin\sh-        coff-objcopy.exe",<br>        "Default options" as<br>        "-O srec $(CONFIGDIR)\$(PROJECTNAME).x $(CONFIGDIR)\$(PROJECTNAME).mot"        and click "Next"<br><br>        e. Click "Finish"<br><br>        f. Check "Phase" option and it should be the lastie after linker, click "Ok"<br><br>        g. Now when you will choose "Build All" from the"Build" menu, it will         build the .mot file in your configuration directory.</p><br />
        <br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="87">Q2. How do I define various memory areas or define linker script using HEW ?</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><b>A2.</b>From the HEW IDE, open the linker options dialog box           by selecting "Linker" from "options" menu.          <p>Go to the "Sections" tab on this dialog box. </p>          <p>Using this page you may create/modify/remove existing groups.Every           group can be started at specified memory          address.</p><p> You may define sequence of all these groups so thatthey are           positioned as per your requirements.</p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="88">Q3. I am unable to source-level debug HEW generated project for COFF tool chain. Why ?</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><b>A3.</b>HEW creates the output file in the debug folder of the project          workspace.<p> This means that the source files and the generated output           file are in different folders.</p><p> The coff debug format does not have           directory information.</p><p> You need to set directories to be browsed for           source using directory command from the console window.</p>          <p>You may view the current directory by using "pwd" command.</p>          <p>e.g. If the project named sh1 is created in folder c:\tmp.</p>          <p>Then the source programs will be in folder is C:\tmp\sh1\sh1\ and          the executable will be in c:\tmp\sh1\sh1\debug.</p>          <p>In such caseload the executable from debug folder.</p>          <p>Open the command window. And type following command.<br>          (gdb) pwd</p>          <p>This will show current directory as "/cygdrive/c/tmp/sh1/sh1/debug"<br>          (gdb) directory/cygdrive/c/tmp/sh1/sh1</p>          <p>With this setting, you will be able to source-level debug the program.</p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="89">Q4. How do I manipulate heap and stack through HEW ?</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><br />
<b>A4.</b>To change the location of the heap in HEW using _end symbol,on the toolbar go           to Options and then select Linker.<p> It will display the Linker options dialog box.</p>          <p>In the Sections tab page you can add a new section by clicking on the Add group           button.</p><p> In the new section dialog box you can type a name say .heap_start which           can have start address as a fixed address.</p><p> Delete the _end symbol from the           previous section and add in this new section.</p>         <p>To manipulate the size of heap and stack copy sbrk.c file form \newlib\libc\sys\h8300hms           to the HEW project and modify the same.The building of changed sbrk.c along with the           HEW project avoids rebuilding of the newlib sources.</p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="90">Q5. How do I pre-process assembly files in HEW ?</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br>  <p class=MsoPlainText style='text-align:justify'><b style='mso-bidi-font-weight:normal'><span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:Verdana;mso-fareast-font-family:"MS Mincho"'>A5.</span></b><spanstyle='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:Verdana;mso-fareast-font-family:"MS Mincho"'><span style='mso-tab-count:1'>    </span>HEW treats *.s and *.S files in same way. Because of this the '*.s' files are not preprocessed and are given directly to the assembler. <o:p></o:p></span></p> <p class=MsoPlainText style='text-align:justify'><span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:Verdana;mso-fareast-font-family:"MS Mincho";mso-bidi-font-weight:bold'><span style="mso-spacerun: yes"></span></span><spanstyle='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:Verdana;mso-fareast-font-family:"MS Mincho"'>To pre-process assembly files, please use file extension "asm". So all files with extension <o:p></o:p></span></p> <p class=MsoPlainText style='text-align:justify'><span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:Verdana;mso-fareast-font-family:"MS Mincho";mso-bidi-font-weight:bold'><span style="mso-spacerun: yes"></span></span><spanstyle='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:Verdana;mso-fareast-font-family:"MS Mincho"'>"asm" will be pre-processed by HEW ( using GCC) and then passed to the assembler.<o:p></o:p></span></p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="91">Q6. How do I debug binaries created by ELF tool chain ?
</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><b>A6.</b>GNUH8 v0303 ships with the latest ELF/DWARF-2 Object reader suitable for HEW 2.x.           <p>To use this object reader go to the menu "Debug Settings" from "Options".</p>          <p>From the dialog box, using "Default Debug Format" drop-down list,           select "ELF/DWARF2 for KPIT".</p><p> Using this you should be able to debug the binaries           using ELF/DWARF2 debug format.</p>           <p>Before downloading the binary file please configure memory map for the simulator           which is under "Options->Simulator->Memory Resource" menu.</p>          <p><b>Note:</b><br>          <br>1. This object reader will work only with HEW version 2.x.<br>          2. If you select "ELF/DWARF2" instead of "ELF/DWARF2 for KPIT",          the debugging may not work and HEW may crash.</p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="92">Q7. How do I install Japanese version of ELF/DWARF2 reader for HEW 2.x ?</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><b>A7.</b> GNUH8 v0303 ships with Japanese version of ELF/DWARF2 reader for HEW 2.x.           <p>To use this object reader go to the menu "Debug Settings" from "Options".</p>          <p>This reader is present in <br>       "<HEW2 Install dir>\tools\KPIT Cummins\DebugComp\Object\ElfDwarf2 Reader\Japanese"           folder.</p><p> Follow the steps given below to install this reader.</p>          <p>Go to "Administration" menu from "Tools".</p>           <p>Search the        "<HEW2 Install dir>\tools\KPIT Cummins\DebugComp\Object\ElfDwarf2 Reader\Japanese"           folder for new components.</p><p> This should display "ELFDwarf2 Object Reader KPIT Edition          Ver 2.0" along with other tools.</p> <p>Register this with HEW. </p>          <p>Refer to Q6 for using this reader.</p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="93">Q8. Are there any issues when more than one versions of HEW installed on the same machine ?
</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><b>A8.</b>Yes. User may face problems while registering the KPIT Cummins GNU           tool chain with HEW where more than one installation is v2.1 or earlier.          <p>To avoid this problem, we have modified installers.</p>          <p>If HEW 2.1 and HEW 1.3 are installed on the machine, then the           GNUH8 / GNUSH installer will install the tool chain only for one           version of HEW selected by the user.</p><p> To install tool chain           for other version of HEW, user will have to install the tool chain again.          During second installation please go through "Modify" installation           option and select the other version of HEW.</p>          <p>Besides this, at the end of installation, the installer will ask user           if user wants to start HEW in order to register the tool chain automatically.</p><p>If           user selects "yes", then the installer will automatically invoke the HEW and register          the GNUSH / GNUH8 tool chain.</p><p> If the user selects "no", then user must start          correct version of HEW (selected while installing the tool chain ) first.</p><p> If the user          start the other version first, then the tool chain will not get registered properly.</p>          <p>e.g. User selects to install tool chain for HEW1.3 and selects not          to start HEW automatically.<br> In such case if user starts HEW 2.1          before HEW 1.3, the tool chain will get registered to HEW 2.1 and not in HEW 1.3.</p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="94">Q9.  How to setup the simulator to debug my code in HEW ? or What do I do when getting "memory access error" while using HEW simulator?
</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><br />
<b>A9.</b>To use the simulator shipped with HEW, first you need to configure the Simulator.           <p>To configure the Simulator follow the steps given below. The project should be built          before this stage.</p>          <p>1. Select "Debug Settings" from Options menu.</p>          <p>2. This will display a dialog box with two tabs "Target" and "Options".</p>          <p>3. Using the "Target" drop-down list, select the appropriate CPU series for your project.<br>              e.g. H8/300, H8/300H, H8S/2000A or SH1,SH2 etc.</p>          <p>4. From "Default Debug Format" drop-down list, select option "ELF/Dwarf2 for KPIT".</p>          <p>5. Add the generated output file (normally $projectname.x from debug folder)               using the download module button.</p>          <p>6. Clicking on "Add" button, will display another dialog box named "Download Module".</p>          <p>7. Let the offset be 0x0. Select "Format" as "ELF/Dwarf2 for KPIT" and select               the generated output file using the browse button.</p>          <p>8. Press OK to confirm your settings. This will add various tool bars to the HEW menu.</p>          <p>9. This will also add the *.x file in project workspace under "Download Module".</p>        <p>10. Select on "Simulator" option from "Options" menu and select "Memory resourse".</p>        <p>11. Click on the add button and enter memory details of your target.<br>               After this simulator will allocate memory required for the project.</p>         <p>12. Right click on the *.x file under "download module" in project workspace               window, to download the file to the simulator. After this the user can use simulator               to debug the application downloaded.</p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="95">Q10. How can I create a section in HEW which the linker will exclude in the output file? </a></b></td></tr><tr bgcolor="#f5f5f5"><td><br><b>A10.</b>In HEW:           <p>1. Go to 'Linker Options'.</p>          <p>2. Go to 'Sections' tab on the 'Linker Options' dialog box.</p>          <p>3. Click the modify button of the section for which the settings are required.</p>          <p>4. Check 'Do not load group into memory each time it is accessed' checkbox.</p>          <p>This will exclude the section from output file.</p><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="141">Q11. Can I integrate the GNUH8 v0302 and below versions with HEW 3.x (High-performance Embedded Workshop)? OR Does GNUH8 v0302 and below versions detect HEW 3.x? 
</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br>A11. It is recommended to integrate GNUH8 tool chain versions v0304 and above with HEW version 3.x. The support for HEW 3.x was added from the version GNUH8 v0304 therefore the GNUH8 v0302 tool chains and below versions will not work properly if integrated with HEW 3.x. <br />
<br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="142">Q12. I have HEW version 2.x and HEW version 3.x installed on my machine. Can I integrate the GNUH8 tool chain with both the HEW installations? OR 
Can I integrate the GNUH8 tool chain with multiple installations of HEW version 2.x? 
</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br>A12.  GNUH8 tool chain gets integrated with first installation of HEW. The GNUH8 tool chain does not detect the other installations of HEW 2.x or HEW 3.x. <br />
<br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="162">Q13. HEW 3.x sometimes becomes very busy (not very responsive). Is there any way to enhance the speed?</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br>A13. Please refer to the following link, which provides ways to enhance the performance of HEW3.x,<br />
<a href="http://www.renesas.com/eng/products/mpumcu/tool/crosstool/hew/hew3_performance.html"><a href="http://www.renesas.com/eng/products/mpumcu/tool/crosstool/hew/hew3_performance.html" target="_blank">http://www.renesas.com/eng/products/mpumcu/tool/crosstool/hew/hew3_performance.html</a></a>.<br />
<br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="165">Q14. How can a section be discarded through HEW?</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br>A14. This can be achieved by giving group name as /DISCARD/ and adding the sections that you want to discard in this group.<br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr><tr bgcolor="#f5f5f5"><td><b><a name="308">Q15. On adding Memory region a warning "no memory region specified for section `.bss' " is encountered. How can this error be ignored through HEW?</a></b></td></tr><tr bgcolor="#f5f5f5"><td><br>A15. This warning occurs if no memory region is specified for that section. This warning can be safely ignored. The default project generated through HEW has a section .bss  with data in it but no memory region specified. To remove this warning assign the memory region for  that section. <br>e.g.  Suppose the memory section RAM is added, then in the linker sections dialog box modify the settings of section for which the warning is generated as follows:</br><br>    Start Address:	Memory Region</br><br>    Region:		RAM</br><br><div align="right" style="visibility:
				visible; font-size: 12pt; color: red; font-type: Verdana; font-weight:bold;"><a href="#003001" >Go To Category</a></div><br></td></tr></table></body></html>
